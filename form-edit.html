<!doctype html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@400;500;600&family=Roboto:wght@400;500;700&family=Lato:wght@400;700&display=swap"
    rel="stylesheet">

  <link rel="icon" href="assets/images/favicon.png" />
  <title>Edit Form</title>
  <link href="assets/css/output.css" rel="stylesheet" />
  <style>
    .contact-wrapper {
      height: 100%;
      overflow: hidden;
    }


    .contact-wrapper>.w-full>.flex {
      align-items: stretch !important;
    }

    .sf-question {
      position: relative !important;
      overflow: visible !important;
      z-index: 1;
    }

    .sf-float-toolbar {
      position: absolute !important;
      top: 8px;
      right: 8px;
      transform-origin: right top;
      transition: opacity .18s ease, transform .18s ease;
      opacity: 0;
      pointer-events: none;
      transform: translateY(-6px) scale(.98);
      z-index: 9999 !important;
    }

    .sf-question:hover>.sf-float-toolbar,
    .sf-question:focus-within>.sf-float-toolbar {
      opacity: 1 !important;
      pointer-events: auto !important;
      transform: translateY(0) scale(1);
    }

    .sf-float-toolbar * {
      pointer-events: auto !important;
    }

    .sf-title,
    .form-header,
    .form-title {
      pointer-events: none !important;
    }

    .form-inner {
      scrollbar-width: thin;
      scrollbar-color: rgba(160, 160, 160, 0.25) transparent;
    }

    .form-inner::-webkit-scrollbar {
      width: 8px;
      background: transparent;
    }

    .form-inner::-webkit-scrollbar-thumb {
      background: rgba(160, 160, 160, 0.25);
      border-radius: 8px;
      opacity: 0;
      transition: opacity 0.3s ease, background 0.3s ease;
    }

    .form-inner:hover::-webkit-scrollbar-thumb,
    .form-inner:active::-webkit-scrollbar-thumb {
      opacity: 1;
      background: rgba(160, 160, 160, 0.4);
    }

    .sf-navy .form-inner::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.15);
    }

    .sf-navy .form-inner:hover::-webkit-scrollbar-thumb,
    .sf-navy .form-inner:active::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
    }

    #formPreviewCard {
      display: flex;
      flex-direction: column;

    }

    #formPreviewCard .form-inner {
      flex: 1;
      overflow-y: auto;
      overflow-x: hidden;

      scrollbar-width: thin;
      scrollbar-color: rgba(160, 160, 160, 0.25) transparent;
    }

    #formPreviewCard .form-inner::-webkit-scrollbar {
      width: 8px;
      background: transparent;
    }

    #formPreviewCard .form-inner::-webkit-scrollbar-thumb {
      background: rgba(160, 160, 160, 0.25);
      border-radius: 8px;
      opacity: 0;
      transition: opacity 0.3s ease, background 0.3s ease;
    }

    #formPreviewCard .form-inner:hover::-webkit-scrollbar-thumb,
    #formPreviewCard .form-inner:active::-webkit-scrollbar-thumb {
      opacity: 1;
      background: rgba(160, 160, 160, 0.4);
    }

    .sf-navy #formPreviewCard .form-inner::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.15);
    }

    .sf-navy #formPreviewCard .form-inner:hover::-webkit-scrollbar-thumb,
    .sf-navy #formPreviewCard .form-inner:active::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
    }

    #editToolsCard.sf-navy {
      background: linear-gradient(180deg, #0B1120 0%, #111C34 100%) !important;
      border: 1px solid rgba(255, 255, 255, 0.05) !important;
    }

    #formPreviewCard,
    #editToolsCard {
      height: 100%;
    }

    .form-inner * {
      font-weight: inherit !important;
      font-style: inherit !important;
      text-decoration: inherit !important;
      color: inherit !important;
    }

    .form-inner {
      color: #e6eef8 !important;
    }

    .form-inner.sf-bold {
      font-weight: 700 !important;
    }

    .form-inner.sf-italic {
      font-style: italic !important;
    }

    .form-inner.sf-underline {
      text-decoration: underline !important;
    }

    #bgColorGroup {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-shrink: 0;
    }

    #bgColorGroup .color-box {
      width: 48px !important;
      height: 40px !important;
      display: inline-block;
      flex: none;
    }

    #bgColorGroup input[type="color"] {
      width: 100% !important;
      height: 100% !important;
      padding: 0;
      border-radius: 6px;
      border: 1px solid var(--tw-border-color, #ccc);
      background: none;
      appearance: none;
    }
  </style>
  <style id="sf-darkmode-final">
    html.dark .form-inner:not(.user-colored) {
      color: #e6eef8 !important;
    }

    #saveQuestionEdit:hover,
    #previewFormBtn:hover,
    #confirmFormBtn:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 18px rgba(99, 102, 241, 0.55);
    }

    #saveQuestionEdit:active,
    #previewFormBtn:active,
    #confirmFormBtn:active {
      transform: translateY(0);
      box-shadow: 0 3px 8px rgba(99, 102, 241, 0.3);
    }

    #saveQuestionEdit:focus-visible,
    #previewFormBtn:focus-visible,
    #confirmFormBtn:focus-visible {
      outline: 2px solid #818cf8;
      outline-offset: 3px;
    }

    #saveQuestionEdit,
    #topPreviewBtn,
    #saveBtn,
    #confirmFormBtn {
      background: linear-gradient(90deg, #6366F1, #4f46e5) !important;
      color: #ffffff !important;
      border: none !important;
      border-radius: 8px !important;
      padding: 10px 18px !important;
      font-weight: 600 !important;
      font-family: inherit !important;
      letter-spacing: 0.3px !important;
      box-shadow: 0 4px 14px rgba(99, 102, 241, 0.4) !important;
      cursor: pointer !important;
      transition: all 0.15s ease !important;
      background-color: transparent !important;
      filter: none !important;
    }

    #saveQuestionEdit:hover,
    #topPreviewBtn:hover,
    #saveBtn:hover,
    #confirmFormBtn:hover {
      transform: translateY(-1px) !important;
      box-shadow: 0 6px 18px rgba(99, 102, 241, 0.55) !important;
    }

    #saveQuestionEdit:active,
    #topPreviewBtn:active,
    #saveBtn:active,
    #confirmFormBtn:active {
      transform: translateY(0) !important;
      box-shadow: 0 3px 8px rgba(99, 102, 241, 0.3) !important;
    }

    #saveQuestionEdit:focus-visible,
    #topPreviewBtn:focus-visible,
    #saveBtn:focus-visible,
    #confirmFormBtn:focus-visible {
      outline: 2px solid #818cf8 !important;
      outline-offset: 3px !important;
    }

    #bgClearBtn {
      background: linear-gradient(90deg, #6366F1, #4f46e5);
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 6px 10px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(99, 102, 241, 0.35);
      transition: all 0.15s ease;
    }

    #bgClearBtn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.45);
    }

    .bg-type-radios {
      display: flex;
      gap: 14px;
      margin-bottom: 10px;
    }

    .bg-type-radios .radio-line {
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .bg-type-radios input[type="radio"] {
      accent-color: #111c34;
    }

    html.dark .bg-type-radios input[type="radio"] {
      accent-color: #e6eef8;
    }

    .sf-bgtype-radios {
      display: flex;
      gap: 18px;
      margin-bottom: 4px;
    }

    html:not(.dark) .sf-radio-line:hover {
      border-color: rgba(0, 0, 0, 0.25);
    }

    html:not(.dark) .sf-radio-line input[type="radio"] {
      border-color: #1e293b;
    }

    html:not(.dark) .sf-radio-line input[type="radio"]:checked {
      background: #6366F1;
      border-color: #6366F1;
    }

    .sf-colorpickers {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .sf-picker {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .sf-picker-label {
      font-size: 13px;
      opacity: .9;
    }

    html.dark .sf-radio-line span {
      color: #e6eef8;
    }

    html.dark .sf-picker-label {
      color: #e6eef8;
    }

    .sf-toggle-group {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }

    .sf-radio-line {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 7px 14px;
      font-size: 15px;
      font-weight: 500;
      cursor: pointer;
      user-select: none;
      border-radius: 8px;
      border: 2px solid transparent;
      transition: background .18s ease, border-color .18s ease, color .18s ease;
    }

    .sf-radio-line input[type='radio'] {
      appearance: none;
      width: 14px;
      height: 14px;
      border: 2px solid currentColor;
      border-radius: 50%;
      background: transparent;
      transition: border .18s ease, background .18s ease;
      margin: 0;
    }

    .sf-radio-line input[type='radio']:checked {
      background: #6366F1;
      border-color: #6366F1;
    }

    .sf-radio-line input[type='radio']:checked+span {
      font-weight: 500;
    }

    html.dark .sf-radio-line {
      background: linear-gradient(180deg, #0B1120, #111C34);
      border-color: rgba(255, 255, 255, 0.15);
      color: #e6eef8;
    }

    html.dark .sf-radio-line:hover {
      border-color: rgba(255, 255, 255, 0.28);
    }

    html:not(.dark) .sf-radio-line:hover {
      border-color: rgba(0, 0, 0, 0.25);
    }

    html:not(.dark) .sf-radio-line input[type='radio'] {
      border-color: #1f2937;
    }

    html:not(.dark) .sf-radio-line input[type='radio']:checked {
      background: #6366F1;
      border-color: #6366F1;
    }

    #formPreviewCard {
      display: flex;
      flex-direction: column;
    }

    #formPreviewCard .form-inner {
      flex: 1;
      height: 100% !important;
      max-height: 100% !important;
      overflow-y: auto;
    }

    /* Use the same background as the app in dark mode */
    html.dark select {
      background-color: var(--sf-bg-dark, #0b1220);
      color: #e5e7eb;
    }

    html.dark select option {
      background-color: var(--sf-bg-dark, #0b1220);
      color: #e5e7eb;
    }

    html.dark select {
      color-scheme: dark;
    }

    #formPreviewCard {
      height: 701px;
      /* already exists, keep it */
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    #formPreviewCard>.form-inner {
      flex: 1 1 auto;
      min-height: 0;
      overflow-x: hidden;
      /* header height */
      overflow-y: auto;
    }

    /* =========================================================
   FORM-EDIT DARK MODE ‚Äì TEMPLATE ALIGNMENT PATCH
   Matches dashboard.html color architecture
   ========================================================= */

    /* 1. Page canvas stays black (do NOT paint layout) */
    html.dark,
    html.dark body {
      background-color: #000000 !important;
    }

    /* 2. All layout wrappers stay transparent */
    html.dark main,
    html.dark .sf-page,
    html.dark .sf-editor-layout,
    html.dark .sf-container,
    html.dark .sf-wrapper {
      background: transparent !important;
    }

    /* 3. Cards are the ONLY painted surfaces */
    html.dark #formPreviewCard,
    html.dark #editToolsCard {
      background-color: #171f2e !important;
      border-color: rgba(255, 255, 255, 0.08) !important;
    }

    /* 4. Kill gradients / decorative navy styles */
    html.dark #editToolsCard.sf-navy,
    html.dark #formPreviewCard.sf-navy {
      background: #171f2e !important;
    }

    /* 5. Inner content must inherit card surface */
    html.dark #formPreviewCard *,
    html.dark #editToolsCard * {
      background-color: transparent !important;
    }

    /* 6. Inputs still need structure */
    html.dark input,
    html.dark textarea,
    html.dark select {
      background-color: transparent !important;
      color: #e5e7eb !important;
      border-color: rgba(255, 255, 255, 0.15) !important;
    }

    /* 7. Dropdown menus / options need solid backing */
    html.dark select option {
      background-color: #171f2e;
      color: #e5e7eb;
    }

    /* =========================================================
   FORCE FORM PREVIEW SURFACE TO MATCH CARD
   ========================================================= */

    /* The actual preview canvas */
    html.dark #formPreviewCard,
    html.dark #formPreviewCard>*,
    html.dark #formPreviewCard .form-inner,
    html.dark #formPreviewCard .form-preview,
    html.dark #formPreviewCard .sf-preview,
    html.dark #formPreviewCard .sf-preview-surface {
      background-color: #171f2e !important;
    }

    /* Kill any nested dark backgrounds inside preview */
    html.dark #formPreviewCard * {
      background-image: none !important;
      background-color: transparent !important;
    }

    #formPreviewCard {

      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    #formPreviewCard .form-inner {
      flex: 1 1 auto;
      min-height: 0;
      overflow-y: auto;
    }

    #formPreviewCard {

      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    #formPreviewCard>.form-inner {
      flex: 1;
      min-height: 0;
      /* NON-NEGOTIABLE */
      overflow-y: auto;
      overflow-x: hidden;
    }

    #formPreviewCard {
      display: flex;
      flex-direction: column;
    }

    #editToolsCard {
      height: 701px;
    }

    #formPreviewCard {
      height: 701px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    #editToolsCard,
    #formPreviewCard {
      box-sizing: border-box;
    }

    #formPreviewCard>.form-inner {
      padding-top: 32px;
      /* match editToolsCard p-8 */
      padding-bottom: 32px;
    }
  </style>

</head>

<body x-data="{      
        activeDropdown: null,
  darkMode: localStorage.getItem('darkMode') === 'true',
  toggleDarkMode() {
          this.darkMode = !this.darkMode;
          localStorage.setItem('darkMode', this.darkMode);
          
          if (this.darkMode) {
            document.documentElement.classList.add('dark');
            document.documentElement.classList.remove('light');
          } else {
            document.documentElement.classList.add('light');
            document.documentElement.classList.remove('dark');
          }
        },
        closeDropdowns() {
          this.activeDropdown = null;
        },
        init() {
          // Apply dark mode on page load if saved in localStorage
          const savedDarkMode = localStorage.getItem('darkMode') === 'true';
          
          if (savedDarkMode) {
            this.darkMode = true;
            document.documentElement.classList.add('dark');
            document.documentElement.classList.remove('light');
          } else {
            this.darkMode = false;
            document.documentElement.classList.add('light');
            document.documentElement.classList.remove('dark');
          }
          
          // Close dropdowns when clicking outside
          document.addEventListener('click', (e) => {
            if (!e.target.closest('.nav-item') && !e.target.closest('.dropdown-menu') && !e.target.closest('.mobile-dropdown-toggle')) {
              this.closeDropdowns();
            }
          });
          
          // Reset activeDropdown when resizing to desktop
          window.addEventListener('resize', () => {
            if (window.innerWidth >= 1024) {
              this.activeDropdown = null;
            }
          });
        }
      }">
  <div class="dark:bg-dark-secondary bg-white">
    <!-- Header Start -->
    <header
      class="bg-white dark:bg-dark-primary border-b dark:border-gray-800 border-gray-100 sticky top-0 z-50 py-2 lg:py-0">
      <div class="px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between">
          <!-- Logo and Mobile Menu Button -->
          <div class="flex">
            <div class="flex-shrink-0 flex items-center">
              <!-- Mobile menu button -->
              <button @click="sidebarOpen = !sidebarOpen" type="button"
                class="inline-flex items-center justify-center mr-3 rounded-md text-gray-400 lg:hidden">
                <svg class="h-6 w-6" x-show="!sidebarOpen" xmlns="http://www.w3.org/2000/svg" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16">
                  </path>
                </svg>
                <svg class="h-6 w-6" x-show="sidebarOpen" xmlns="http://www.w3.org/2000/svg" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor" style="display: none;">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
              </button>
              <!-- Logo -->
              <div class="flex items-center">
                <!-- Logo -->
                <a href="index.html">
                  <img src="assets/images/new-black-logo.svg" class="block dark:hidden"
                    style="width: 160px; height: 30px;" alt="">
                  <img src="assets/images/new-white-logo.svg" style="width: 160px; height: 30px;"
                    class="hidden dark:block" alt="">
                </a>
              </div>

            </div>
          </div>

          <!-- Desktop Navigation -->
          <nav class="hidden lg:flex lg:items-center">
            <a href="index.html"
              class="text-gray-500 dark:text-gray-400 text-sm px-4 py-6 hover:text-primary-500 font-medium">Home</a>

            <!-- Products Dropdown (Desktop) -->

            <!-- Pages Dropdown (Desktop) -->
            <div class="relative nav-item">
              <button
                class="text-gray-500 group dark:text-gray-400 hover:text-primary-400 text-sm inline-flex items-center px-4 py-6 font-medium rounded-full">
                Pages
                <svg class="dropdown-arrow ml-1 h-4 w-4 transition-transform duration-200"
                  xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">
                  <path d="M4.33301 5.91666L8.49967 10.0833L12.6663 5.91666" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
              </button>

              <!-- Pages dropdown menu -->
              <div
                class="dropdown-menu absolute left-0 w-[266px] bg-white dark:bg-dark-secondary dark:border-gray-800 rounded-2xl shadow-theme-lg border border-gray-100 p-3 z-50 hidden">
                <div class="space-y-1">
                  <a href="dashboard.html"
                    class="flex items-center px-4 py-3 hover:text-gray-800 dark:hover:text-white/90 text-sm font-medium rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5">
                    Dashboard
                  </a>
                  <a href="form-generator.html"
                    class="flex items-center px-4 py-3 hover:text-gray-800 dark:hover:text-white/90 text-sm font-medium rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5">
                    Form Generator
                  </a>
                  <a href="form-edit.html"
                    class="flex items-center px-4 py-3 hover:text-gray-800 dark:hover:text-white/90 text-sm font-medium rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5">
                    Form Edit
                  </a>
                  <a href="signin.html"
                    class="flex items-center px-4 py-3 hover:text-gray-800 dark:hover:text-white/90 text-sm font-medium rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5">
                    Sign In
                  </a>
                  <a href="signup.html"
                    class="flex items-center px-4 py-3 hover:text-gray-800 dark:hover:text-white/90 text-sm font-medium rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5">
                    Sign Up
                  </a>
                  <a href="forgot-password.html"
                    class="flex items-center px-4 py-3 hover:text-gray-800 dark:hover:text-white/90 text-sm font-medium rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5">
                    Reset Password
                  </a>
                  <a href="privacy.html"
                    class="flex items-center px-4 py-3 hover:text-gray-800 dark:hover:text-white/90 text-sm font-medium rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5">
                    Privacy Policy
                  </a>
                  <a href="404.html"
                    class="flex items-center px-4 py-3 hover:text-gray-800 dark:hover:text-white/90 text-sm font-medium rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5">
                    404 Error
                  </a>
                </div>
              </div>
            </div>

            <a href="contact.html"
              class="text-gray-500 dark:text-gray-400 text-sm px-4 py-6 hover:text-primary-500 font-medium">Contact</a>
          </nav>

          <!-- Right side buttons -->
          <div class="flex items-center">
            <!-- Dark Mode Toggle Start -->
            <button @click="toggleDarkMode()"
              class="inline-flex items-center dark:hover:bg-white/5 dark:hover:text-white/90 hover:bg-gray-100 hover:text-gray-800 text-gray-500 dark:text-gray-400 justify-center border border-gray-200 dark:border-gray-700 rounded-full size-11">
              <svg x-show="!darkMode" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"
                fill="none">
                <path
                  d="M6.24683 7.08492C6.24683 10.7677 9.23232 13.7532 12.9151 13.7532C14.6687 13.7532 16.2641 13.0764 17.4545 11.9697C16.584 15.2727 13.5765 17.7083 10.0001 17.7083C5.74289 17.7083 2.29175 14.2572 2.29175 9.99996C2.29175 6.42356 4.72736 3.41602 8.03036 2.54558C6.92367 3.73594 6.24683 5.33139 6.24683 7.08492Z"
                  stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
              <svg x-show="darkMode" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z">
                </path>
              </svg>
            </button>
            <!-- Dark Mode Toggle End -->

            <!-- Account dropdown -->
            <div class="ml-4 relative flex-shrink-0" x-data="{ open: false }">
              <div>
                <button @click="open = !open" class="rounded-full text-sm font-medium focus:outline-none">
                  <img src="assets/images/users/user-1.png" class="w-11 h-11 rounded-full" alt="">
                </button>
              </div>
              <div x-show="open" @click.away="open = false"
                class="origin-top-right absolute right-0 mt-2 w-[260px] shadow-lg dark:bg-dark-secondary dark:border-gray-800 py-4 px-3 bg-white border border-gray-200 rounded-2xl"
                style="display: none;">
                <div class="mb-4 px-3">
                  <span class="text-gray-700 text-sm font-medium dark:text-gray-400">musharof</span>
                  <p class="text-gray-500 text-sm dark:text-gray-400">
                    random@pimjo.com
                  </p>
                </div>
                <div class="space-y-1">
                  <a href="#"
                    class="px-3 py-2 flex gap-3 dark:hover:bg-white/[0.05] dark:text-gray-400 font-medium items-center text-sm text-gray-700 hover:text-gray-800 transition hover:bg-gray-100 rounded-lg dark:hover:text-white/90">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M8.75211 6.7963C8.75211 5.3555 9.92011 4.1875 11.3609 4.1875C12.8017 4.1875 13.9697 5.3555 13.9697 6.7963C13.9697 8.2371 12.8017 9.4051 11.3609 9.4051C9.92011 9.4051 8.75211 8.2371 8.75211 6.7963ZM11.3609 2.6875C9.09168 2.6875 7.25211 4.52707 7.25211 6.7963C7.25211 9.06553 9.09168 10.9051 11.3609 10.9051C13.6301 10.9051 15.4697 9.06553 15.4697 6.7963C15.4697 4.52707 13.6301 2.6875 11.3609 2.6875ZM9.81431 12.208C6.38418 12.208 3.60352 14.9887 3.60352 18.4188V18.7367C3.60352 19.1509 3.9393 19.4867 4.35352 19.4867C4.76773 19.4867 5.10352 19.1509 5.10352 18.7367V18.4188C5.10352 15.8171 7.21261 13.708 9.81431 13.708H12.9088C15.5105 13.708 17.6196 15.8171 17.6196 18.4188V18.7367C17.6196 19.1509 17.9554 19.4867 18.3696 19.4867C18.7838 19.4867 19.1196 19.1509 19.1196 18.7367V18.4188C19.1196 14.9887 16.3389 12.208 12.9088 12.208H9.81431Z"
                        fill="currentColor"></path>
                    </svg>
                    Edit profile
                  </a>
                  <a href="#"
                    class="px-3 py-2 flex gap-3 dark:hover:bg-white/[0.05] dark:text-gray-400 font-medium items-center text-sm text-gray-700 hover:text-gray-800 transition hover:bg-gray-100 rounded-lg dark:hover:text-white/90">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M9.61304 3.27092L12.3927 3.27092C12.7295 3.27092 13.0027 3.54406 13.0027 3.88104C13.0027 5.50501 14.7607 6.52057 16.1675 5.7084C16.4591 5.54 16.8321 5.63994 17.0005 5.93161L18.3905 8.33918C18.559 8.63101 18.459 9.00417 18.1672 9.17266C16.7604 9.98485 16.7604 12.0153 18.1672 12.8275C18.459 12.996 18.559 13.3692 18.3905 13.661L17.0005 16.0686C16.8321 16.3603 16.4591 16.4602 16.1674 16.2918C14.7607 15.4796 13.0027 16.4952 13.0027 18.1192C13.0027 18.4561 12.7295 18.7293 12.3927 18.7293H9.61303C9.27596 18.7293 9.00271 18.456 9.00271 18.1189C9.00271 16.4942 7.2438 15.4793 5.83708 16.2915C5.54502 16.4601 5.17158 16.36 5.00304 16.0681L3.61337 13.6611C3.44488 13.3692 3.54487 12.9961 3.83671 12.8276C5.2435 12.0154 5.24347 9.98484 3.8367 9.17264C3.54485 9.00414 3.44486 8.63095 3.61335 8.33911L5.00301 5.93215C5.17156 5.64022 5.545 5.54012 5.83706 5.70875C7.24379 6.52092 9.00271 5.50595 9.00271 3.88125C9.00271 3.54417 9.27597 3.27092 9.61304 3.27092ZM12.3927 1.77092L9.61304 1.77092C8.44754 1.77092 7.50271 2.71575 7.50271 3.88125C7.50271 4.3509 6.9941 4.64471 6.58706 4.40971C5.57769 3.82695 4.28681 4.17265 3.70397 5.18215L2.31431 7.58911C1.7316 8.5984 2.07742 9.88897 3.0867 10.4717C3.49349 10.7065 3.49348 11.2937 3.08671 11.5285C2.07743 12.1112 1.73162 13.4018 2.31433 14.4111L3.704 16.8181C4.28684 17.8276 5.57772 18.1732 6.58708 17.5905C6.99411 17.3555 7.50271 17.6493 7.50271 18.1189C7.50271 19.2844 8.44753 20.2293 9.61303 20.2293H12.3927C13.5581 20.2293 14.5027 19.2844 14.5027 18.1192C14.5027 17.6495 15.0111 17.3562 15.4174 17.5908C16.4266 18.1735 17.7169 17.8277 18.2995 16.8186L19.6895 14.411C20.2722 13.4017 19.9264 12.1112 18.9172 11.5285C18.5104 11.2937 18.5104 10.7066 18.9172 10.4717C19.9264 9.889 20.2723 8.59845 19.6896 7.58918L18.2995 5.18161C17.7169 4.1725 16.4266 3.82675 15.4175 4.40936C15.0111 4.644 14.5027 4.35067 14.5027 3.88104C14.5027 2.71579 13.5581 1.77092 12.3927 1.77092ZM8.92395 11C8.92395 9.85242 9.85427 8.9221 11.0019 8.9221C12.1495 8.9221 13.0798 9.85242 13.0798 11C13.0798 12.1476 12.1495 13.0779 11.0019 13.0779C9.85427 13.0779 8.92395 12.1476 8.92395 11ZM11.0019 7.4221C9.02584 7.4221 7.42395 9.02399 7.42395 11C7.42395 12.976 9.02584 14.5779 11.0019 14.5779C12.9779 14.5779 14.5798 12.976 14.5798 11C14.5798 9.02399 12.9779 7.4221 11.0019 7.4221Z"
                        fill="currentColor"></path>
                    </svg>
                    Account settings
                  </a>
                  <a href="#"
                    class="px-3 py-2 flex gap-3 dark:hover:bg-white/[0.05] dark:text-gray-400 font-medium items-center text-sm text-gray-700 hover:text-gray-800 transition hover:bg-gray-100 rounded-lg dark:hover:text-white/90">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M3.27148 11C3.27148 6.7313 6.73195 3.27083 11.0007 3.27083C15.2694 3.27083 18.7298 6.7313 18.7298 11C18.7298 15.2687 15.2694 18.7292 11.0007 18.7292C6.73195 18.7292 3.27148 15.2687 3.27148 11ZM11.0007 1.77083C5.90352 1.77083 1.77148 5.90287 1.77148 11C1.77148 16.0971 5.90352 20.2292 11.0007 20.2292C16.0978 20.2292 20.2298 16.0971 20.2298 11C20.2298 5.90287 16.0978 1.77083 11.0007 1.77083ZM10 7.94734C10 8.49962 10.4478 8.94734 11 8.94734H11.0008C11.5531 8.94734 12.0008 8.49962 12.0008 7.94734C12.0008 7.39505 11.5531 6.94734 11.0008 6.94734H11C10.4478 6.94734 10 7.39505 10 7.94734ZM11 15.3214C10.5858 15.3214 10.25 14.9856 10.25 14.5714L10.25 10.699C10.25 10.2848 10.5858 9.94902 11 9.94902C11.4143 9.94902 11.75 10.2848 11.75 10.699L11.75 14.5714C11.75 14.9856 11.4143 15.3214 11 15.3214Z"
                        fill="currentColor"></path>
                    </svg>
                    Support
                  </a>
                  <div class="my-3 h-px bg-gray-200 dark:bg-gray-800"></div>
                  <a href="#"
                    class="px-3 py-2 flex gap-3 dark:hover:bg-white/[0.05] dark:text-gray-400 font-medium items-center text-sm text-gray-700 hover:text-gray-800 transition hover:bg-gray-100 rounded-lg dark:hover:text-white/90">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M13.9679 17.5805C13.5537 17.5805 13.2179 17.2448 13.2179 16.8305L13.2179 13.2454L11.7179 13.2454L11.7179 16.8305C11.7179 18.0732 12.7253 19.0805 13.9679 19.0805H16.8346C18.0773 19.0805 19.0846 18.0732 19.0846 16.8305V5.16309C19.0846 3.92045 18.0773 2.91309 16.8346 2.91309L13.9679 2.91309C12.7253 2.91309 11.7179 3.92045 11.7179 5.16309V8.74543L13.2179 8.74542V5.16309C13.2179 4.74887 13.5537 4.41309 13.9679 4.41309L16.8346 4.41309C17.2488 4.41309 17.5846 4.74887 17.5846 5.16309V16.8305C17.5846 17.2448 17.2488 17.5805 16.8346 17.5805H13.9679ZM2.91797 10.9986C2.91797 11.2142 3.00896 11.4086 3.15464 11.5454L7.37668 15.7701C7.66948 16.0631 8.14436 16.0632 8.43734 15.7704C8.73033 15.4776 8.73048 15.0028 8.43768 14.7098L5.47835 11.7486H14.668C15.0822 11.7486 15.418 11.4128 15.418 10.9986C15.418 10.5844 15.0822 10.2486 14.668 10.2486L5.48212 10.2486L8.4377 7.29092C8.73049 6.99793 8.73032 6.52306 8.43733 6.23026C8.14433 5.93747 7.66946 5.93764 7.37667 6.23064L3.18798 10.4223C3.02297 10.5598 2.91797 10.7669 2.91797 10.9986Z"
                        fill="currentColor"></path>
                    </svg>
                    Logout
                  </a>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </header><!-- Header End -->

    <!-- Main Start -->
    <main>
      <section class="py-5 relative">
        <div class="wrapper">
          <div class="relative w-full mx-auto">
            <div
              class="contact-wrapper border p-10 relative z-30  dark:bg-dark-primary dark:border-dark-primary border-gray-100">
              <!-- START: Two cards layout -->
              <div class="w-full">
                <div class="flex flex-row gap-6 items-start">
                  <!-- LEFT CARD: Form Preview  -->
                  <div id="formPreviewCard"
                    class="border border-gray-100 dark:border-dark-primary rounded-2xl p-0 w-full dark:bg-dark-primary"
                    style="flex:0 0 60%; min-width:380px;">
                    <div class="form-inner">
                      <div class="pt-6"></div>

                      <div class="flex items-start justify-between mb-6">

                        <div>
                          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Form Preview</h3>
                        </div>
                      </div>


                      <!-- Form Title -->
                      <div class="mb-6 sf-question group relative" data-qid="title-1">
                        <div class="flex items-center justify-between mb-2">
                          <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Form Title</label>

                        </div>
                        <div class="rounded-md border border-gray-100 dark:border-gray-800 p-4  dark:bg-transparent">
                          <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Customer Satisfaction Survey
                          </h2>
                          <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Help us improve ‚Äî takes 2 minutes.
                          </p>
                        </div>

                        <!-- floating mini-toolbar -->
                        <div class="sf-float-toolbar absolute right-3 top-3 flex items-center gap-2">
                          <button class="sf-edit-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Edit">‚úèÔ∏è</button>
                          <button class="sf-move-up-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Move up">‚¨ÜÔ∏è</button>
                          <button class="sf-move-down-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Move down">‚¨áÔ∏è</button>
                          <button class="sf-delete-btn p-2 rounded-md border border-red-200 text-red-600"
                            title="Delete">üóëÔ∏è</button>
                        </div>
                      </div>

                      <!-- sample question: short answer -->
                      <div class="mb-5 sf-question group relative" data-qid="q-1">
                        <div class="flex items-center justify-between mb-2">
                          <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Question (Short
                            answer)</label>

                        </div>
                        <input type="text" placeholder="Type your answer here..."
                          class="w-full rounded-lg border border-gray-100 dark:border-gray-800 p-3 bg-white dark:bg-dark-secondary text-sm text-gray-700 dark:text-gray-200"
                          disabled>
                        <div class="sf-float-toolbar absolute right-3 top-3 flex items-center gap-2">
                          <button class="sf-edit-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Edit">‚úèÔ∏è</button>
                          <button class="sf-move-up-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Move up">‚¨ÜÔ∏è</button>
                          <button class="sf-move-down-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Move down">‚¨áÔ∏è</button>
                          <button class="sf-delete-btn p-2 rounded-md border border-red-200 text-red-600"
                            title="Delete">üóëÔ∏è</button>
                        </div>
                      </div>

                      <!-- sample question: multiple choice -->
                      <div class="mb-5 sf-question group relative" data-qid="q-2">
                        <div class="flex items-center justify-between mb-2">
                          <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Question (Multiple
                            choice)</label>

                        </div>
                        <div class="space-y-2">
                          <label class="flex items-center gap-3 text-sm text-gray-700 dark:text-gray-300"><input
                              type="radio" disabled> Very satisfied</label>
                          <label class="flex items-center gap-3 text-sm text-gray-700 dark:text-gray-300"><input
                              type="radio" disabled> Satisfied</label>
                          <label class="flex items-center gap-3 text-sm text-gray-700 dark:text-gray-300"><input
                              type="radio" disabled> Dissatisfied</label>
                        </div>
                        <div class="sf-float-toolbar absolute right-3 top-3 flex items-center gap-2">
                          <button class="sf-edit-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Edit">‚úèÔ∏è</button>
                          <button class="sf-move-up-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Move up">‚¨ÜÔ∏è</button>
                          <button class="sf-move-down-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Move down">‚¨áÔ∏è</button>
                          <button class="sf-delete-btn p-2 rounded-md border border-red-200 text-red-600"
                            title="Delete">üóëÔ∏è</button>
                        </div>
                      </div>

                      <!-- sample question: dropdown -->
                      <div class="mb-5 sf-question group relative" data-qid="q-3">
                        <div class="flex items-center justify-between mb-2">
                          <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Question
                            (Dropdown)</label>

                        </div>
                        <select
                          class="w-full rounded-lg border border-gray-100 dark:border-gray-800 p-3 bg-white dark:bg-dark-secondary text-sm text-gray-700 dark:text-gray-200"
                          disabled>
                          <option>Choose an option...</option>
                          <option>Option A</option>
                          <option>Option B</option>
                        </select>
                        <div class="sf-float-toolbar absolute right-3 top-3 flex items-center gap-2">
                          <button class="sf-edit-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Edit">‚úèÔ∏è</button>
                          <button class="sf-move-up-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Move up">‚¨ÜÔ∏è</button>
                          <button class="sf-move-down-btn p-2 rounded-md border border-gray-200 dark:border-gray-700"
                            title="Move down">‚¨áÔ∏è</button>
                          <button class="sf-delete-btn p-2 rounded-md border border-red-200 text-red-600"
                            title="Delete">üóëÔ∏è</button>
                        </div>
                      </div>

                      <div class="pt-4 border-t border-gray-100 dark:border-dark-primary mt-6 sf-preview-footer">
                        <p class="text-xs text-gray-400">This preview is visual-only. Editing tools are on the right
                          panel.</p>
                      </div>
                    </div>
                  </div>

                  <!-- RIGHT CARD: Editing Tools (40%) -->
                  <div id="editToolsCard"
                    class="border border-gray-100 dark:border-dark-primary rounded-2xl p-8 bg-white dark:bg-dark-primary flex flex-col h-[701px]"
                    style="flex:0 0 40%; min-width:320px;">
                    <div class="flex items-start justify-between mb-6">
                      <div>
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Editing Tools</h3>
                        <p class="text-sm text-gray-400 mt-1">Visual builder controls & theme panel (theme controls are
                          functional).</p>
                      </div>

                      <!-- Preview top-right (keeps existing color var) -->
                      <div class="flex items-center gap-2">
                        <button id="topPreviewBtn" style="background:var(--sf-accent,#6366F1)"
                          class="inline-flex items-center px-3 py-2 rounded-md text-sm text-white shadow-sm"
                          title="Preview">
                          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M2.458 12C3.732 7.943 7.523 5 12 5s8.268 2.943 9.542 7c-1.274 4.057-5.065 7-9.542 7s-8.268-2.943-9.542-7z" />
                          </svg>
                          Preview
                        </button>
                      </div>
                    </div>

                    <!-- Question Editor (shows when editing a question) -->
                    <div id="questionEditor" class="mb-4 hidden">
                      <label class="block text-xs text-gray-500 mb-2">Edit Question</label>
                      <input id="editorQuestionText" class="w-full rounded-md border p-2 text-sm mb-2" />
                      <div class="flex gap-2">
                        <button id="saveQuestionEdit" class="px-3 py-2 rounded bg-gray-100 text-sm">Save</button>
                        <button id="cancelQuestionEdit" class="px-3 py-2 rounded text-sm">Cancel</button>
                      </div>
                    </div>

                    <!-- Tools list -->
                    <div class="space-y-3 mb-6">
                      <button id="btnAddQuestion"
                        class="w-full text-left px-4 py-3 rounded-lg border border-gray-100 dark:border-dark-primary hover:shadow-sm">
                        <div class="flex items-center justify-between">
                          <div class="flex items-center gap-3">
                            <span
                              class="size-9 inline-flex items-center justify-center rounded-md border border-gray-200 dark:border-gray-700 p-2">‚ûï</span>
                            <div>
                              <div class="text-sm font-medium text-gray-900 dark:text-white">Add Question</div>
                              <div class="text-xs text-gray-400">Text, Multiple choice, Dropdown, File</div>
                            </div>
                          </div>
                        </div>
                      </button>

                      <button id="btnAddOption"
                        class="w-full text-left px-4 py-3 rounded-lg border border-gray-100 dark:border-dark-primary hover:shadow-sm">
                        <div class="flex items-center gap-3">
                          <span
                            class="size-9 inline-flex items-center justify-center rounded-md border border-gray-200 dark:border-gray-700 p-2">‚öôÔ∏è</span>
                          <div>
                            <div class="text-sm font-medium text-gray-900 dark:text-white">Add Options</div>
                            <div class="text-xs text-gray-400">For multiple choice / dropdown</div>
                          </div>
                        </div>
                      </button>

                      <button id="btnAddRadio"
                        class="w-full text-left px-4 py-3 rounded-lg border border-gray-100 dark:border-dark-primary hover:shadow-sm">
                        <div class="flex items-center gap-3">
                          <span
                            class="size-9 inline-flex items-center justify-center rounded-md border border-gray-200 dark:border-gray-700 p-2">üîò</span>
                          <div>
                            <div class="text-sm font-medium text-gray-900 dark:text-white">Add Radio Question</div>
                            <div class="text-xs text-gray-400">A multiple-choice question with radio buttons</div>
                          </div>
                        </div>
                      </button>

                    </div>

                    <!-- Theme Panel -->
                    <div class="mt-2 mb-6">
                      <h4 class="text-sm font-medium text-gray-800 dark:text-white mb-3">Theme Panel</h4>
                      <div class="space-y-4">
                        <!-- Background type -->
                        <div>
                          <div>
                            <div>
                              <label class="block text-xs text-gray-500 mb-2">Form Background</label>
                              <input type="hidden" id="bgTypeHidden" value="solid">

                              <div id="bgControlSection" class="space-y-3">

                                <div class="sf-bgtype-radios sf-toggle-group">
                                  <label class="sf-radio-line">
                                    <input type="radio" name="bgTypeRadio" value="solid" checked>
                                    <span>Solid</span>
                                  </label>

                                  <label class="sf-radio-line">
                                    <input type="radio" name="bgTypeRadio" value="gradient">
                                    <span>Gradient</span>
                                  </label>
                                </div>

                                <!-- Color Pickers -->
                                <div id="bgPickerRow" class="flex items-center gap-3"></div>
                                <div class="sf-colorpickers">
                                  <div class="sf-picker">

                                    <input type="color" id="bgColorPicker" value="#ffffff">
                                  </div>

                                  <div class="sf-picker" id="picker2Slot" style="display: none;">

                                    <input type="color" id="bgColorPicker2" value="#ffffff">
                                  </div>
                                </div>
                              </div>
                            </div>
                            </label>
                          </div>


                          <p class="text-xs text-gray-400 mt-1">
                            Pick a color or gradient for the form preview area.
                          </p>
                          <button id="bgClearBtn" type="button" title="Reset background">
                            Clear Background
                          </button>
                        </div>

                        <div>
                          <label class="block text-xs text-gray-500 mb-2">Font Family</label>
                          <select id="fontSelect"
                            class="rounded-md border border-gray-100 dark:border-gray-800 p-2 text-sm w-full">
                            <option value="Inter">Inter (system)</option>
                            <option value="Poppins">Poppins</option>
                            <option value="Roboto">Roboto</option>
                            <option value="Lato">Lato</option>
                          </select>
                          <p class="text-xs text-gray-400 mt-1">This will change the font inside the preview card
                            only
                            (visual).</p>

                          <div class="flex items-center gap-3 mt-3">
                            <label class="text-xs text-gray-500">Font Size</label>
                            <input id="fontSize" type="range" min="12" max="28" value="16" class="flex-1" />
                            <span id="fontSizeVal" class="text-sm w-10 text-right">16</span>
                          </div>

                          <div class="flex items-center gap-3 mt-3">
                            <label class="inline-flex items-center gap-2 text-sm">
                              <input id="fontBold" type="checkbox" /> <span>Bold</span>
                            </label>
                            <label class="inline-flex items-center gap-2 text-sm">
                              <input id="fontItalic" type="checkbox" /> <span>Italic</span>
                            </label>
                            <label class="inline-flex items-center gap-2 text-sm">
                              <input id="fontUnderline" type="checkbox" /> <span>Underline</span>
                            </label>
                            <div id="fontColorPickerWrapper" class="sf-picker">
                              <label class="inline-flex items-center gap-2 text-sm">
                                <input id="fontColorPicker" type="color" value="#111827" /> <span
                                  class="text-xs text-gray-400">Text color</span>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="mt-auto">
                      <p class="text-xs text-gray-400">Other editing controls (Add/Remove/Logic/etc.) are UI-only
                        for
                        now.</p>
                    </div>

                    <!-- Save button anchored bottom-right -->
                    <div class="mt-6 flex justify-end">
                      <button id="saveBtn">Save / Confirm</button>
                    </div>
                  </div>
                </div>
              </div>
              <!-- END: Two cards layout -->
            </div>
          </div>
        </div>
      </section>
    </main>
    <!-- Main End -->

    <!-- Footer Start -->
    <footer class="relative overflow-hidden bg-gray-900">
      <span class="absolute top-0 -translate-x-1/2 left-1/2">
        <svg width="1260" height="457" viewBox="0 0 1260 457" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g filter="url(#filter0_f_11105_867)">
            <circle cx="630" cy="-173.299" r="230" fill="#3B2EFF"></circle>
          </g>
          <defs>
            <filter id="filter0_f_11105_867" x="0" y="-803.299" width="1260" height="1260" filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB">
              <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood>
              <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend>
              <feGaussianBlur stdDeviation="200" result="effect1_foregroundBlur_11105_867">
              </feGaussianBlur>
            </filter>
          </defs>
        </svg>
      </span>
      <div class="relative z-10 py-16 xl:py-24">
        <div class="container px-5 mx-auto sm:px-7">
          <div class="grid gap-y-8 lg:grid-cols-12">
            <div class="lg:col-span-3 xl:col-span-4">
              <div>
                <a href="index.html" class="block mb-6">
                  <img src="assets/images/logo-white.svg" alt="">
                </a>
                <p class="block text-sm text-gray-400 mb-9">
                  Create Smarter, Faster, and Effortless <br> AI Forms SmartForm AI. </p>
                <div class="flex">
                  <a href="https://www.linkedin.com/company/pimjo/posts/?feedView=all" target="_blank"
                    class="text-gray-400 hover:text-white/80 size-10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                      <g clip-path="url(#clip0_11105_879)">
                        <path
                          d="M13.5447 3.68965C12.5249 3.22173 11.4313 2.87699 10.2879 2.67954C10.2671 2.67573 10.2463 2.68525 10.2356 2.7043C10.0949 2.95444 9.93915 3.28077 9.83006 3.53727C8.60027 3.35316 7.37679 3.35316 6.17221 3.53727C6.0631 3.27507 5.90166 2.95444 5.76038 2.7043C5.74966 2.68589 5.72886 2.67636 5.70803 2.67954C4.56527 2.87636 3.47171 3.2211 2.45129 3.68965C2.44246 3.69346 2.43488 3.69982 2.42986 3.70806C0.355594 6.80697 -0.212634 9.82971 0.0661201 12.815C0.0673814 12.8296 0.0755799 12.8435 0.086932 12.8524C1.45547 13.8574 2.78114 14.4676 4.08219 14.872C4.10301 14.8784 4.12507 14.8707 4.13832 14.8536C4.44608 14.4333 4.72043 13.9902 4.95565 13.5241C4.96953 13.4968 4.95628 13.4645 4.92791 13.4537C4.49275 13.2886 4.0784 13.0873 3.67982 12.8588C3.64829 12.8404 3.64577 12.7953 3.67477 12.7737C3.75865 12.7108 3.84255 12.6454 3.92264 12.5794C3.93713 12.5674 3.95732 12.5648 3.97435 12.5724C6.59286 13.7679 9.4277 13.7679 12.0153 12.5724C12.0323 12.5642 12.0525 12.5667 12.0677 12.5788C12.1478 12.6448 12.2316 12.7108 12.3161 12.7737C12.3451 12.7953 12.3433 12.8404 12.3117 12.8588C11.9131 13.0918 11.4988 13.2886 11.063 13.453C11.0346 13.4638 11.022 13.4968 11.0359 13.5241C11.2762 13.9895 11.5505 14.4327 11.8526 14.853C11.8652 14.8707 11.8879 14.8784 11.9087 14.872C13.2161 14.4676 14.5417 13.8574 15.9103 12.8524C15.9223 12.8435 15.9298 12.8302 15.9311 12.8156C16.2647 9.36431 15.3723 6.36636 13.5655 3.7087C13.5611 3.69982 13.5535 3.69346 13.5447 3.68965ZM5.34668 10.9973C4.55833 10.9973 3.90876 10.2735 3.90876 9.38464C3.90876 8.49578 4.54574 7.77202 5.34668 7.77202C6.15392 7.77202 6.79721 8.50214 6.78459 9.38464C6.78459 10.2735 6.14761 10.9973 5.34668 10.9973ZM10.6632 10.9973C9.87484 10.9973 9.22526 10.2735 9.22526 9.38464C9.22526 8.49578 9.86222 7.77202 10.6632 7.77202C11.4704 7.77202 12.1137 8.50214 12.1011 9.38464C12.1011 10.2735 11.4704 10.9973 10.6632 10.9973Z"
                          fill="currentColor" fill-opacity="0.8"></path>
                      </g>
                      <defs>
                        <clipPath id="clip0_11105_879">
                          <rect width="16" height="16" fill="currentColor" transform="translate(0 0.919434)"></rect>
                        </clipPath>
                      </defs>
                    </svg>
                  </a>
                  <a href="https://x.com/PimjoHQ" target="_blank" class="text-gray-400 hover:text-white/80 size-10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                      <path
                        d="M12.2176 2.18848H14.4666L9.55323 7.80414L15.3334 15.4458H10.8076L7.26277 10.8112L3.20671 15.4458H0.956369L6.2117 9.43921L0.666748 2.18848H5.30749L8.51168 6.4247L12.2176 2.18848ZM11.4283 14.0997H12.6745L4.63034 3.4639H3.29306L11.4283 14.0997Z"
                        fill="currentColor"></path>
                    </svg>
                  </a>
                  <a href="https://github.com/PIMJO" target="_blank" class="text-gray-400 hover:text-white/80 size-10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                      <g clip-path="url(#clip0_11105_885)">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M8.00009 1.25293C6.10091 1.25392 4.264 1.92657 2.81783 3.15061C1.37166 4.37465 0.410521 6.07027 0.106282 7.93426C-0.197957 9.79825 0.174536 11.7091 1.15717 13.325C2.13979 14.941 3.66848 16.1568 5.46987 16.7549C5.86729 16.8287 6.01698 16.5824 6.01698 16.3729C6.01698 16.1635 6.00903 15.5563 6.00638 14.8924C3.78085 15.3732 3.31057 13.9533 3.31057 13.9533C2.9476 13.0312 2.42301 12.7889 2.42301 12.7889C1.69706 12.2962 2.47733 12.3054 2.47733 12.3054C3.28143 12.3621 3.70402 13.1261 3.70402 13.1261C4.41672 14.3418 5.57585 13.9901 6.03155 13.7847C6.10309 13.2696 6.31107 12.9193 6.54025 12.7204C4.76247 12.5202 2.89461 11.8378 2.89461 8.78988C2.88359 7.9994 3.1786 7.23496 3.71859 6.65472C3.63646 6.4545 3.36224 5.64575 3.79675 4.54722C3.79675 4.54722 4.46839 4.33383 5.99712 5.36256C7.30836 5.00601 8.69183 5.00601 10.0031 5.36256C11.5305 4.33383 12.2008 4.54722 12.2008 4.54722C12.6366 5.64312 12.3624 6.45187 12.2803 6.65472C12.822 7.23506 13.1176 8.00083 13.1056 8.79251C13.1056 11.8471 11.2337 12.5202 9.45331 12.7164C9.73945 12.964 9.99512 13.4475 9.99512 14.1903C9.99512 15.2546 9.98585 16.1108 9.98585 16.3729C9.98585 16.585 10.1302 16.8326 10.5356 16.7549C12.3372 16.1567 13.866 14.9407 14.8487 13.3245C15.8313 11.7082 16.2036 9.79713 15.899 7.93296C15.5944 6.0688 14.6328 4.37317 13.1861 3.14933C11.7395 1.9255 9.90215 1.25329 8.00274 1.25293H8.00009Z"
                          fill="currentColor"></path>
                        <path
                          d="M3.02954 12.6743C3.01232 12.7139 2.94873 12.7257 2.89707 12.6981C2.84541 12.6704 2.80699 12.619 2.82554 12.5782C2.84408 12.5374 2.90635 12.5268 2.95801 12.5545C3.00967 12.5821 3.04941 12.6348 3.02954 12.6743Z"
                          fill="currentColor"></path>
                        <path
                          d="M3.35423 13.0339C3.3268 13.0476 3.29541 13.0514 3.26545 13.0447C3.23548 13.038 3.2088 13.0211 3.18997 12.997C3.13831 12.9417 3.1277 12.8653 3.16744 12.831C3.20719 12.7968 3.27873 12.8126 3.33039 12.8679C3.38205 12.9232 3.39398 12.9996 3.35423 13.0339Z"
                          fill="currentColor"></path>
                        <path
                          d="M3.66958 13.4908C3.62056 13.525 3.5371 13.4908 3.49074 13.4223C3.47791 13.41 3.46772 13.3953 3.46075 13.379C3.45379 13.3627 3.4502 13.3452 3.4502 13.3275C3.4502 13.3098 3.45379 13.2922 3.46075 13.2759C3.46772 13.2596 3.47791 13.2449 3.49074 13.2326C3.53975 13.1997 3.62321 13.2326 3.66958 13.2998C3.71594 13.367 3.71727 13.4565 3.66958 13.4908Z"
                          fill="currentColor"></path>
                        <path
                          d="M4.09725 13.9334C4.05353 13.9822 3.96478 13.969 3.89192 13.9031C3.81906 13.8373 3.80183 13.7477 3.84555 13.7003C3.88926 13.6529 3.97802 13.666 4.05353 13.7306C4.12904 13.7951 4.14361 13.886 4.09725 13.9334Z"
                          fill="currentColor"></path>
                        <path
                          d="M4.69753 14.1917C4.67766 14.2536 4.58758 14.2813 4.4975 14.2549C4.40742 14.2286 4.3478 14.1548 4.36502 14.0916C4.38225 14.0284 4.47365 13.9994 4.56506 14.0284C4.65646 14.0573 4.71475 14.1271 4.69753 14.1917Z"
                          fill="currentColor"></path>
                        <path
                          d="M5.35189 14.2361C5.35189 14.3006 5.27771 14.3559 5.18233 14.3572C5.08695 14.3586 5.00879 14.3059 5.00879 14.2413C5.00879 14.1768 5.08297 14.1215 5.17835 14.1201C5.27373 14.1188 5.35189 14.1702 5.35189 14.2361Z"
                          fill="currentColor"></path>
                        <path
                          d="M5.96118 14.1349C5.9731 14.1994 5.90687 14.2666 5.81149 14.2824C5.71611 14.2982 5.63265 14.26 5.62073 14.1968C5.60881 14.1336 5.67769 14.0651 5.77042 14.0479C5.86315 14.0308 5.94926 14.0703 5.96118 14.1349Z"
                          fill="currentColor"></path>
                      </g>
                      <defs>
                        <clipPath id="clip0_11105_885">
                          <rect width="16" height="16" fill="currentColor" transform="translate(0 0.919434)"></rect>
                        </clipPath>
                      </defs>
                    </svg>
                  </a>
                  <a href="https://www.facebook.com/PimjoHQ" target="_blank"
                    class="text-gray-400 hover:text-white/80 size-10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
                      <g clip-path="url(#clip0_11105_895)">
                        <path
                          d="M10.5 11.0444H12.375L13.125 8.04443H10.5V6.54443C10.5 5.7724 10.5 5.04443 12 5.04443H13.125V2.52451C12.8807 2.49207 11.9573 2.41943 10.9822 2.41943C8.9463 2.41943 7.5 3.66208 7.5 5.94422V8.04443H5.25V11.0444H7.5V17.4194H10.5V11.0444Z"
                          fill="currentColor"></path>
                      </g>
                      <defs>
                        <clipPath id="clip0_11105_895">
                          <rect width="18" height="18" fill="currentColor" transform="translate(0 0.919434)"></rect>
                        </clipPath>
                      </defs>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
            <div class="lg:col-span-6 xl:col-span-5">
              <div class="grid sm:grid-cols-3 gap-7">
                <div>
                  <span class="block mb-6 text-sm text-gray-400">Services</span>
                  <nav class="flex flex-col space-y-3">
                    <a href="#" class="text-sm font-normal text-gray-400 transition hover:text-white">
                      Status
                    </a>
                    <a href="pricing.html" class="text-sm font-normal text-gray-400 transition hover:text-white">
                      Pricing
                    </a>
                    <a href="#" class="text-sm font-normal text-gray-400 transition hover:text-white">
                      FAQ
                    </a>
                    <a href="#" class="text-sm font-normal text-gray-400 transition hover:text-white">
                      Help Docs
                    </a>
                    <a href="privacy.html" class="text-sm font-normal text-gray-400 transition hover:text-white">
                      Privacy Policy
                    </a>
                  </nav>
                </div>

                <div>
                  <span class="relative block mb-6 text-sm text-gray-400">Account</span>
                  <nav class="flex flex-col space-y-3">
                    <a href="signin.html" class="text-sm font-normal text-gray-400 transition hover:text-white">
                      Login
                    </a>
                    <a href="signup.html" class="text-sm font-normal text-gray-400 transition hover:text-white">
                      Sign Up
                    </a>
                    <a href="forgot-password.html"
                      class="text-sm font-normal text-gray-400 transition hover:text-white">
                      Reset Password
                    </a>
                    <a href="contact.html" class="text-sm font-normal text-gray-400 transition hover:text-white">
                      Support
                    </a>
                  </nav>
                </div>
              </div>
            </div>
            <div class="lg:col-span-3">
              <div>
                <span class="block mb-6 text-sm text-gray-400">Stay In Touch</span>
                <p class="block mb-5 text-sm text-gray-400">
                  subscribe now for exclusive insights and offers!
                </p>
                <form>
                  <div class="flex flex-col items-center gap-2 w-full sm:max-w-64">
                    <input type="text" placeholder="Enter your email"
                      class="w-full h-12 p-4 text-sm text-white border border-gray-700 rounded-full placeholder:text-center placeholder:text-gray-400 placeholder:text-sm text-center placeholder:font-normal focus:outline-0">
                    <button
                      class="w-full px-6 py-3 text-sm font-medium text-white transition rounded-full cursor-pointer bg-primary-500 hover:bg-primary-600">
                      Subscribe Now
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="border-t border-gray-800">
        <div class="container relative z-10 px-5 mx-auto sm:px-7">
          <div class="py-5 text-center" x-data="{ currentYear: new Date().getFullYear() }">
            <p class="text-sm text-gray-500">
              ¬© <span x-text="currentYear">2025</span>&nbsp;Smartform AI - All Rights
              Reserved.
            </p>
          </div>
        </div>
      </div>
    </footer>
    <!-- Footer End -->
  </div>
  <script defer src="assets/js/alpine.min.js"></script>
  <script defer src="assets/js/glightbox.min.js"></script>
  <script defer src="assets/js/app.js"></script>
  <script>
    (function () {
      'use strict';

      const $ = (s, ctx) => (ctx || document).querySelector(s);
      const $$ = (s, ctx) => Array.from((ctx || document).querySelectorAll(s));
      const leftCard = document.getElementById('formPreviewCard');
      const rightCard = document.getElementById('editToolsCard');
      const topPreviewBtn = document.getElementById('topPreviewBtn');
      const saveBtn = document.getElementById('saveBtn');
      const bgPicker = document.getElementById('bgColorPicker');
      const bgPicker2 = document.getElementById('bgColorPicker2');
      const picker2Slot = document.getElementById('picker2Slot');
      const bgTypeHidden = document.getElementById('bgTypeHidden');
      const bgClearBtn = document.getElementById('bgClearBtn');
      const fontSelect = document.getElementById('fontSelect');
      const fontSize = document.getElementById('fontSize');
      const fontSizeVal = document.getElementById('fontSizeVal');
      const fontBold = document.getElementById('fontBold');
      const fontItalic = document.getElementById('fontItalic');
      const fontUnderline = document.getElementById('fontUnderline');
      const fontColorPicker = document.getElementById('fontColorPicker');
      bgPicker?.addEventListener("input", applyFormBackground);
      bgPicker2?.addEventListener("input", applyFormBackground);
      leftCard.style.alignSelf = "stretch";
      rightCard.style.alignSelf = "stretch";
      leftCard.style.display = "flex";
      rightCard.style.display = "flex";
      leftCard.style.flexDirection = "column";
      rightCard.style.flexDirection = "column";
      if (!leftCard) {
        console.warn('Missing #formPreviewCard');
        return;
      }

      const NAVY_BG = 'linear-gradient(180deg,#0B1120 0%,#111C34 100%)';
      const NAVY_BORDER = '1px solid rgba(255,255,255,0.05)';
      const NAVY_SHADOW = '0 18px 50px rgba(0,0,0,0.65)';


      const observers = [];

      function isDark() {
        return document.documentElement.classList.contains('dark') ||
          document.body.classList.contains('dark') ||
          localStorage.getItem('darkMode') === 'true';
      }

      let formInner = leftCard.querySelector('.form-inner');
      if (!formInner) {
        const wrapper = document.createElement('div');
        wrapper.className = 'form-inner';
        while (leftCard.firstChild) {
          wrapper.appendChild(leftCard.firstChild);
        }
        leftCard.appendChild(wrapper);
        formInner = wrapper;
      }

      removeBgWhiteClasses(formInner);

      (function fixDefaultDarkBG() {
        const dark = isDark();
        const hasUserBg = !!(formInner.dataset && formInner.dataset.lastBg);

        if (dark && !hasUserBg) {
          formInner.style.setProperty("background", NAVY_BG, "important");
          formInner.dataset.lastBg = NAVY_BG;
        }
      })();

      if (!document.getElementById('sf-panel-helpers')) {
        const css = document.createElement('style');
        css.id = 'sf-panel-helpers';
        css.innerHTML = `
      .form-inner { scrollbar-width: thin; }
      .form-inner::-webkit-scrollbar { width: 8px; height:8px; }
      .form-inner::-webkit-scrollbar-track { background: transparent; }
      .form-inner::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.20); border-radius: 8px; }
      .form-inner::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.34); }
      .sf-navy .rounded-md { background-color: rgba(255,255,255,0.02) !important; border: 1px solid rgba(255,255,255,0.03) !important; }
      
      .sf-navy input[type="checkbox"], .sf-navy input[type="radio"] { accent-color: #6366F1 !important; }
      .sf-navy .form-inner { box-shadow: none !important; }
      
      #sfPreviewOverlay .form-inner::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.18); }
    `;
        document.head.appendChild(css);
      }

      Object.assign(formInner.style, {
        position: 'relative',
        width: '100%',
        display: 'flex',
        flexDirection: 'column',
        gap: '14px',
        padding: '22px',
        boxSizing: 'border-box',
        overflowY: 'auto',
        overflowX: 'hidden',
        borderRadius: '12px',
        transition: 'background .22s ease, color .22s ease',
        zIndex: '1',
        flex: '1 1 auto',
        minHeight: '0'
      });


      function updateFormScrollState() {
        formInner.style.overflowY = 'auto';
      }
      window.addEventListener('resize', updateFormScrollState);
      setInterval(updateFormScrollState, 400);
      updateFormScrollState();
      leftCard.style.display = leftCard.style.display || 'block';
      leftCard.style.flex = leftCard.style.flex || '0 0 60%';

      function removeBgWhiteClasses(el) {
        if (!el || !el.classList) return;
        ['bg-white', 'bg-gray-50', 'bg-neutral-50', 'bg-gray-100'].forEach(c => {
          if (el.classList.contains(c)) el.classList.remove(c);
        });
      }

      function isInEditorControls(el) {
        return !!(el && el.closest && el.closest('.sf-float-toolbar, .sf-edit-btn, .sf-delete-btn, .sf-move-up-btn, .sf-move-down-btn'));
      }

      function getEffectiveColor() {
        const dark = isDark();
        const picked = (fontColorPicker?.dataset?.applied === "true");
        const raw = (fontColorPicker?.value || '').trim().toLowerCase();

        if (picked && raw) return raw;
        return dark ? '#e6eef8' : '#111827';
      }


      if (fontColorPicker) {
        fontColorPicker.addEventListener('input', () => {
          fontColorPicker.dataset.applied = "true";
        });
      }

      function applyFontToForm() {
        try {
          const fam = fontSelect?.value || '';
          const sizeVal = fontSize?.value ? fontSize.value + 'px' : '';
          const weight = fontBold?.checked ? '700' : '400';
          const styleVal = fontItalic?.checked ? 'italic' : 'normal';
          const deco = fontUnderline?.checked ? 'underline' : 'none';
          const effectiveColor = getEffectiveColor();
          if (fontColorPicker && fontColorPicker.dataset.applied === "true") {
            fontColorPicker.value = effectiveColor;
            fontColorPicker.style.setProperty("--fc", effectiveColor);
            const wrapper = document.getElementById("fontColorPickerWrapper");
            if (wrapper) wrapper.style.setProperty("--fc", effectiveColor);
          }
          const textNodes = Array.from(
            formInner.querySelectorAll('*:not(svg):not(path):not(button):not(input):not(select):not(textarea)')
          );
          if (fam) {
            formInner.style.setProperty('font-family', fam, 'important');
            textNodes.forEach(el => { if (!isInEditorControls(el)) el.style.setProperty('font-family', fam, 'important'); });
          }

          if (sizeVal) {
            formInner.style.setProperty('font-size', sizeVal, 'important');
            textNodes.forEach(el => { if (!isInEditorControls(el)) el.style.setProperty('font-size', sizeVal, 'important'); });
          }
          formInner.style.setProperty('font-weight', weight, 'important');
          formInner.style.setProperty('font-style', styleVal, 'important');
          formInner.style.setProperty('text-decoration', deco, 'important');

          textNodes.forEach(el => {
            if (isInEditorControls(el)) return;
            el.style.setProperty('font-weight', weight, 'important');
            el.style.setProperty('font-style', styleVal, 'important');
            el.style.setProperty('text-decoration', deco, 'important');
          });
          formInner.style.setProperty('color', effectiveColor, 'important');
          textNodes.forEach(el => {
            if (isInEditorControls(el)) return;
            el.style.setProperty('color', effectiveColor, 'important');
          });

          if (fontSizeVal && fontSize) fontSizeVal.textContent = fontSize.value;

        } catch (err) {
          console.error('applyFontToForm failed:', err);
        }
      }

      function applyCardSurfaceSync() {
        const dark = isDark();
        if (dark) {
          if (rightCard) {
            rightCard.classList.add('sf-navy');
            $$('h3,p,span,label,div', rightCard).forEach(el => {
              try { el.style.setProperty('color', '#e6eef8', 'important'); } catch (e) { }
            });
          }
        } else {
          if (rightCard) {
            rightCard.classList.remove('sf-navy');
            $$('h3,p,span,label,div', rightCard).forEach(el => {
              try { el.style.removeProperty('color'); } catch (e) { }
            });
          }
        }
      }

      // PREVIEW modal 
      function openPreviewModal() {
        if (document.getElementById('sfPreviewOverlay')) return;

        const clone = formInner.cloneNode(true);
        clone.querySelectorAll('.sf-float-toolbar, .sf-edit-btn, .sf-delete-btn, .sf-move-up-btn, .sf-move-down-btn, #questionEditor, .sf-btn').forEach(n => n?.remove());
        clone.querySelectorAll('button').forEach(b => b?.remove());
        clone.querySelectorAll('input,textarea,select').forEach(el => {
          try { el.disabled = true; el.setAttribute('aria-disabled', 'true'); } catch (e) { }
        });

        if (isDark()) clone.classList.add('sf-navy');
        const overlay = document.createElement('div');
        overlay.id = 'sfPreviewOverlay';
        overlay.style.cssText = 'position:fixed;inset:0;z-index:16000;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.56);backdrop-filter:blur(8px);padding:20px;box-sizing:border-box;';
        const modal = document.createElement('div');
        Object.assign(modal.style, {
          width: 'min(1200px,95vw)',
          maxHeight: '92vh',
          overflow: 'auto',
          borderRadius: '14px',
          padding: '22px',
          boxSizing: 'border-box',
          background: isDark() ? NAVY_BG : '#fff',
          color: isDark() ? '#e6eef8' : '#111827',
          boxShadow: isDark() ? NAVY_SHADOW : '0 8px 30px rgba(2,6,23,0.06)'
        });

        const header = document.createElement('div');
        header.style.cssText = 'display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;';
        const title = document.createElement('h3');
        title.textContent = 'Live Preview';
        const closeBtn = document.createElement('button');
        closeBtn.textContent = 'Close';
        Object.assign(closeBtn.style, { background: 'transparent', border: 'none', color: 'inherit', cursor: 'pointer' });
        header.append(title, closeBtn);
        modal.append(header, clone);
        overlay.append(modal);
        document.body.appendChild(overlay);
        const prevOverflow = document.body.style.overflow;
        document.body.style.overflow = 'hidden';

        function cleanup() {
          overlay.remove();
          document.body.style.overflow = prevOverflow || '';
          modalObserver?.disconnect();
        }

        closeBtn.addEventListener('click', cleanup);
        overlay.addEventListener('click', (e) => { if (e.target === overlay) cleanup(); });

        const modalObserver = new MutationObserver(() => {
          const dark = isDark();
          modal.style.background = dark ? NAVY_BG : '#fff';
          modal.style.color = dark ? '#e6eef8' : '#111827';
          if (dark) clone.classList.add('sf-navy');
          else clone.classList.remove('sf-navy');
        });

        modalObserver.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });
        const cleanupObserver = new MutationObserver((mutations) => {
          mutations.forEach((mutation) => {
            if (mutation.removedNodes && Array.from(mutation.removedNodes).includes(overlay)) {
              modalObserver.disconnect();
              cleanupObserver.disconnect();
            }
          });
        });
        cleanupObserver.observe(document.body, { childList: true });
      }
      function openSaveModal() {
        if (document.getElementById('sfSaveOverlay')) return;

        const overlay = document.createElement('div');
        overlay.id = 'sfSaveOverlay';
        overlay.style.cssText = 'position:fixed;inset:0;z-index:17000;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.46);backdrop-filter:blur(6px);padding:20px;box-sizing:border-box;';

        const card = document.createElement('div');
        Object.assign(card.style, {
          width: 'min(720px,96vw)',
          borderRadius: '12px',
          padding: '18px',
          boxSizing: 'border-box',
          display: 'flex',
          justifyContent: 'space-between',
          alignItems: 'center',
          background: isDark() ? NAVY_BG : '#fff',
          color: isDark() ? '#e6eef8' : '#111827',
          boxShadow: isDark() ? NAVY_SHADOW : '0 8px 30px rgba(2,6,23,0.06)'
        });

        card.innerHTML = '<div><h3 style="margin:0 0 6px;">Save Form</h3><p style="margin:0;font-size:13px;opacity:.9">Simulated save ‚Äî nothing will be downloaded.</p></div>';

        const actions = document.createElement('div');
        actions.style.display = 'flex';
        actions.style.gap = '10px';

        const cancel = document.createElement('button');
        cancel.textContent = 'Cancel';
        cancel.style.cssText = 'padding:10px 14px;border-radius:8px;background:transparent;color:inherit;cursor:pointer';

        const confirm = document.createElement('button');
        confirm.textContent = 'Yes, Save';
        confirm.style.cssText = 'padding:10px 14px;border-radius:8px;background:linear-gradient(90deg,#6366F1,#4f46e5);color:#fff;border:none;cursor:pointer';

        actions.append(cancel, confirm);
        card.append(actions);
        overlay.append(card);
        document.body.appendChild(overlay);

        const prevOverflow = document.body.style.overflow;
        document.body.style.overflow = 'hidden';

        function cleanup() {
          overlay.remove();
          document.body.style.overflow = prevOverflow || '';
        }

        cancel.addEventListener('click', cleanup);
        confirm.addEventListener('click', () => {
          cleanup();
          showToast('Saved (simulated)');
        });

        overlay.addEventListener('click', (e) => {
          if (e.target === overlay) cleanup();
        });
      }

      function showToast(msg) {
        const t = document.createElement('div');
        t.textContent = msg;
        t.style.cssText = 'position:fixed;left:50%;transform:translateX(-50%);bottom:28px;z-index:18000;padding:10px 16px;border-radius:999px;font-size:13px;background:rgba(0,0,0,0.8);color:#fff;opacity:0;transition:opacity .2s ease';
        document.body.appendChild(t);

        requestAnimationFrame(() => t.style.opacity = '1');
        setTimeout(() => {
          t.style.opacity = '0';
          setTimeout(() => t.remove(), 200);
        }, 1400);
      }

      function stylePreviewAccent() {
        if (!topPreviewBtn) return;
        topPreviewBtn.style.background = 'linear-gradient(90deg,#6366F1,#4f46e5)';
        topPreviewBtn.style.color = '#fff';
        topPreviewBtn.style.border = 'none';
      }

      function applyFormBackground() {
        const mode = bgTypeHidden?.value || "solid";

        let rawC1 = bgPicker?.value?.trim() || "";
        let rawC2 = bgPicker2?.value?.trim() || "";

        const isPickerEmpty1 = !rawC1 || rawC1.toLowerCase() === "#ffffff";
        const isPickerEmpty2 = !rawC2 || rawC2.toLowerCase() === "#ffffff";

        const userPickedC1 = isPickerEmpty1 ? "" : rawC1;
        const userPickedC2 = isPickerEmpty2 ? "" : rawC2;

        const dark = isDark();

        if (dark && !userPickedC1 && !userPickedC2) {
          formInner.dataset.lastBg = "";
        }

        let result = "";

        if (mode === "solid") {
          if (userPickedC1) {
            result = userPickedC1;
            formInner.dataset.lastBg = userPickedC1;
          } else {
            result = dark ? "" : "#ffffff";
            if (!dark) formInner.dataset.lastBg = result;
          }
        } else if (mode === "gradient") {
          if (userPickedC1 && userPickedC2) {
            result = `linear-gradient(135deg, ${userPickedC1}, ${userPickedC2})`;
            formInner.dataset.lastBg = result;
          } else if (userPickedC1) {
            result = userPickedC1;
            formInner.dataset.lastBg = userPickedC1;
          } else {
            result = dark ? "" : "#ffffff";
            if (!dark) formInner.dataset.lastBg = result;
            else formInner.dataset.lastBg = ""; // keep empty so dark fallback persists
          }
        }

        formInner.style.setProperty("background", result, "important");
      }

      document.querySelectorAll('input[name="bgTypeRadio"]').forEach(radio => {
        radio.addEventListener("change", () => {
          const val = radio.value;
          bgTypeHidden.value = val;

          if (val === "gradient") {
            picker2Slot.style.display = "flex";
          } else {
            picker2Slot.style.display = "none";
          }

          applyFormBackground();
        });
      });
      bgClearBtn?.addEventListener("click", () => {

        bgPicker.value = "#ffffff";
        bgPicker2.value = "#ffffff";
        bgTypeHidden.value = "solid";
        const solidRadio = document.querySelector('input[name="bgTypeRadio"][value="solid"]');
        const gradientRadio = document.querySelector('input[name="bgTypeRadio"][value="gradient"]');
        if (solidRadio) solidRadio.checked = true;
        if (gradientRadio) gradientRadio.checked = false;
        picker2Slot.style.display = "none";
        delete formInner.dataset.lastBg;
        const dark = isDark();
        formInner.style.setProperty("background", dark ? NAVY_BG : "#ffffff", "important");
        applyFormBackground();
      });

      const eventHandlers = [

        [fontSelect, 'change', applyFontToForm],
        [fontSize, 'input', applyFontToForm],
        [fontBold, 'change', applyFontToForm],
        [fontItalic, 'change', applyFontToForm],
        [fontUnderline, 'change', applyFontToForm],
        [fontColorPicker, 'input', applyFontToForm],
        [topPreviewBtn, 'click', (e) => { e.preventDefault(); openPreviewModal(); }],
        [saveBtn, 'click', (e) => { e.preventDefault(); openSaveModal(); }]
      ];

      eventHandlers.forEach(([element, event, handler]) => {
        if (element) {
          element.addEventListener(event, handler);
        }
      });
      applyFontToForm()
      fontSize?.addEventListener('input', () => {
        const sizeVal = fontSize?.value ? fontSize.value + 'px' : '';
        if (sizeVal) {
          formInner.style.setProperty('font-size', sizeVal, 'important');
          formInner.querySelectorAll('*').forEach(el => {
            if (isInEditorControls(el)) return;
            el.style.setProperty('font-size', sizeVal, 'important');
          });
        }
        const effectiveColor = getEffectiveColor();
        requestAnimationFrame(() => {
          formInner.querySelectorAll('h1,h2,h3,h4,h5,h6,p,span,div,label,li').forEach(el => {
            if (isInEditorControls(el)) return;
            el.style.setProperty('color', effectiveColor, 'important');
          });
        });
      });

      const htmlObserver = new MutationObserver(() => {
        applyCardSurfaceSync();
        applyFontToForm();
        stylePreviewAccent();
      });


      htmlObserver.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });
      observers.push(htmlObserver);
      (function fixDarkModeDefault() {
        const dark = isDark();
        const hasUserBg = formInner.dataset.lastBg && formInner.dataset.lastBg !== "";

        if (dark && !hasUserBg) {
          formInner.style.setProperty("background", NAVY_BG, "important");
          formInner.dataset.lastBg = NAVY_BG;
          formInner.classList.add("sf-navy");
        }
      })();
      applyCardSurfaceSync();
      if (!isDark()) {
        applyFormBackground();
      }
      applyFontToForm();
      stylePreviewAccent();
      window.addEventListener('keydown', (ev) => {
        if (ev.key === 'Escape') {
          const overlay = document.getElementById('sfPreviewOverlay') || document.getElementById('sfSaveOverlay');
          if (overlay) {
            overlay.remove();
            document.body.style.overflow = '';
          }
        }
      });

      (function setupToolbarHover() {
        const STYLE_ID = 'sf-toolbar-hover-styles';
        if (!document.getElementById(STYLE_ID)) {
          const style = document.createElement('style');
          style.id = STYLE_ID;
          style.textContent = `
      /* Default: hide toolbars strongly so nothing else can force them visible */
      .sf-float-toolbar {
        opacity: 0 !important;
        pointer-events: none !important;
        transform: translateY(-6px) scale(.98) !important;
        transition: opacity .18s ease, transform .18s ease !important;
        z-index: 100 !important;
        will-change: opacity, transform !important;
      }
      /* Visible state */
      .sf-float-toolbar.sf-toolbar-visible {
        opacity: 1 !important;
        pointer-events: auto !important;
        transform: translateY(0) scale(1) !important;
      }
      /* Prevent accidental inline-style overrides by being specific on common containers */
      .sf-question > .sf-float-toolbar,
      .sf-float-toolbar {
        display: block !important;
      }
    `;
          document.head.appendChild(style);
        }

        const SHOW_DELAY = 40;
        const HIDE_DELAY = 80;

        const state = new WeakMap();
        function ensureToolbar(toolbar) {
          if (!toolbar) return;
          if (!toolbar.classList.contains('sf-toolbar-initialized')) {
            toolbar.classList.add('sf-toolbar-initialized');

            toolbar.classList.remove('sf-toolbar-visible');

            if (!toolbar.hasAttribute('tabindex')) toolbar.setAttribute('tabindex', '-1');
            toolbar.addEventListener('focusin', () => show(toolbar));
            toolbar.addEventListener('focusout', (e) => {
              if (toolbar.contains(e.relatedTarget)) return;
              hideWithDelay(toolbar);
            });

            toolbar.addEventListener('pointerdown', () => {
              show(toolbar);
            });
          }
        }

        function show(toolbar) {
          if (!toolbar) return;
          clearTimeout((state.get(toolbar) || {}).hideTimeout);
          const s = state.get(toolbar) || {};
          clearTimeout(s.showTimeout);
          s.showTimeout = setTimeout(() => {
            toolbar.classList.add('sf-toolbar-visible');
            toolbar.classList.remove('sf-toolbar-hidden');
            toolbar.style.removeProperty('pointer-events');
            toolbar.querySelectorAll('*').forEach(ch => ch.style.removeProperty('pointer-events'));
          }, SHOW_DELAY);
          state.set(toolbar, s);
        }

        function hide(toolbar) {
          if (!toolbar) return;
          const s = state.get(toolbar) || {};
          clearTimeout(s.showTimeout);
          toolbar.classList.remove('sf-toolbar-visible');
          toolbar.classList.add('sf-toolbar-hidden');
          toolbar.style.pointerEvents = 'none';
        }


        function hideWithDelay(toolbar) {
          if (!toolbar) return;
          const s = state.get(toolbar) || {};
          clearTimeout(s.hideTimeout);
          s.hideTimeout = setTimeout(() => hide(toolbar), HIDE_DELAY);
          state.set(toolbar, s);
        }

        document.addEventListener('mouseover', (ev) => {
          const question = ev.target.closest && ev.target.closest('.sf-question');
          const toolbar = ev.target.closest && ev.target.closest('.sf-float-toolbar');

          let targetToolbar = null;
          if (toolbar) targetToolbar = toolbar;
          else if (question) targetToolbar = question.querySelector('.sf-float-toolbar');

          if (targetToolbar) {
            ensureToolbar(targetToolbar);
            show(targetToolbar);
          }
        }, { passive: true });

        document.addEventListener('mouseout', (ev) => {
          const from = ev.target;
          const to = ev.relatedTarget;
          const fromQuestion = from && from.closest ? from.closest('.sf-question') : null;
          const fromToolbar = from && from.closest ? from.closest('.sf-float-toolbar') : null;
          const toQuestion = to && to.closest ? to.closest('.sf-question') : null;
          const toToolbar = to && to.closest ? to.closest('.sf-float-toolbar') : null;
          if (fromToolbar && !(toToolbar || toQuestion)) {
            hideWithDelay(fromToolbar);
          } else if (fromQuestion && !(toQuestion || toToolbar)) {
            const tb = fromQuestion.querySelector('.sf-float-toolbar');
            if (tb) hideWithDelay(tb);
          }
        }, { passive: true });

        document.addEventListener('focusin', (ev) => {
          const q = ev.target.closest && ev.target.closest('.sf-question');
          if (q) {
            const tb = q.querySelector('.sf-float-toolbar');
            if (tb) { ensureToolbar(tb); show(tb); }
          }
        });

        document.addEventListener('focusout', (ev) => {
          const q = ev.target.closest && ev.target.closest('.sf-question');
          const related = ev.relatedTarget;
          const movedInside = related && (related.closest && (related.closest('.sf-question') || related.closest('.sf-float-toolbar')));
          if (q && !movedInside) {
            const tb = q.querySelector('.sf-float-toolbar');
            if (tb) hideWithDelay(tb);
          }
        });


        const mo = new MutationObserver((mutations) => {
          for (const m of mutations) {
            if (m.addedNodes && m.addedNodes.length) {
              m.addedNodes.forEach(node => {
                if (!(node instanceof Element)) return;
                if (node.matches && node.matches('.sf-float-toolbar')) {
                  ensureToolbar(node);
                }
                if (node.querySelectorAll) {
                  node.querySelectorAll('.sf-float-toolbar').forEach(ensureToolbar);
                  node.querySelectorAll('.sf-question').forEach(q => {
                    const tb = q.querySelector('.sf-float-toolbar');
                    if (tb) ensureToolbar(tb);
                  });
                }
              });
            }
          }
        });

        mo.observe(document.body, { childList: true, subtree: true });

        document.querySelectorAll('.sf-float-toolbar').forEach(ensureToolbar);

        window.__sfToolbarDebug = {
          showAll: () => document.querySelectorAll('.sf-float-toolbar').forEach(tb => { ensureToolbar(tb); show(tb); }),
          hideAll: () => document.querySelectorAll('.sf-float-toolbar').forEach(hide),
          teardown: () => { mo.disconnect(); document.removeEventListener('mouseover', () => { }); } // partial
        };
        document.addEventListener('pointerover', (e) => {
          const tb = e.target.closest('.sf-float-toolbar');
          if (tb && tb.classList.contains('sf-toolbar-visible')) {
            tb.style.pointerEvents = 'auto';
            tb.querySelectorAll('*').forEach(ch => ch.style.pointerEvents = 'auto');
          }
        }, true);
        document.addEventListener('transitionend', (e) => {
          const tb = e.target.closest('.sf-float-toolbar');
          if (tb && !tb.classList.contains('sf-toolbar-visible')) {
            tb.style.pointerEvents = 'none';
          }
        });

      })();

      document.addEventListener('click', (e) => {
        const btn = e.target.closest('.sf-float-toolbar button');
        if (!btn) return;

        const question = btn.closest('.sf-question');
        if (!question) return;

        if (btn.classList.contains('sf-edit-btn')) {
          question.querySelectorAll('input, select, textarea').forEach(el => el.removeAttribute('disabled'));
        }

        if (btn.classList.contains('sf-delete-btn')) {
          question.remove();
        }

        if (btn.classList.contains('sf-move-up-btn')) {
          const prev = question.previousElementSibling;
          if (prev && prev.classList.contains('sf-question')) {
            question.parentNode.insertBefore(question, prev);
          }
        }

        if (btn.classList.contains('sf-move-down-btn')) {
          const next = question.nextElementSibling;
          if (next && next.classList.contains('sf-question')) {
            question.parentNode.insertBefore(next, question);
          }
        }
      });

      document.addEventListener('click', (e) => {
        const editBtn = e.target.closest('.sf-edit-btn');
        if (!editBtn) return;

        const question = editBtn.closest('.sf-question');
        if (!question) return;

        const editor = document.getElementById('questionEditor');
        const input = document.getElementById('editorQuestionText');
        const saveBtn = document.getElementById('saveQuestionEdit');
        const cancelBtn = document.getElementById('cancelQuestionEdit');

        if (!editor || !input || !saveBtn || !cancelBtn) return;

        const label = question.querySelector('label');
        input.value = label ? label.textContent.trim() : '';

        editor.classList.remove('hidden');

        const saveHandler = () => {
          if (label) label.textContent = input.value.trim() || 'Untitled Question';
          editor.classList.add('hidden');
          cleanup();
        };

        const cancelHandler = () => {
          editor.classList.add('hidden');
          cleanup();
        };

        function cleanup() {
          saveBtn.removeEventListener('click', saveHandler);
          cancelBtn.removeEventListener('click', cancelHandler);
        }

        saveBtn.addEventListener('click', saveHandler);
        cancelBtn.addEventListener('click', cancelHandler);
      });
      new MutationObserver(() => {
        const dark = document.documentElement.classList.contains('dark');
        const style = document.getElementById('sf-darkmode-final');
        if (style) {
          style.disabled = !dark; // auto-disable rule in light mode
        }
      }).observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });

      document.getElementById("btnAddQuestion")?.addEventListener("click", () => {
        addShortQuestion();
      });
      document.getElementById("btnAddOption")?.addEventListener("click", () => {
        addCheckboxQuestion();
      });
      document.getElementById("btnAddRadio")?.addEventListener("click", () => {
        addRadioQuestion();
      });
      function insertBeforeFooter(html) {
        const footer = formInner.querySelector('.sf-preview-footer');
        if (footer) {
          footer.insertAdjacentHTML("beforebegin", html);
        } else {
          formInner.insertAdjacentHTML("beforeend", html);
        }
      }

      function addShortQuestion() {
        const html = `
    <div class="sf-question group relative mb-5">
      <div class="flex items-center justify-between mb-2">
        <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Untitled Question</label>
      </div>

      <input 
        type="text" 
        disabled 
        placeholder="Type your answer here..." 
        class="w-full rounded-lg border border-gray-100 dark:border-gray-800 p-3 bg-white dark:bg-dark-secondary text-sm text-gray-700 dark:text-gray-200"
      >

      <div class="sf-float-toolbar absolute right-3 top-3 flex items-center gap-2">
        <button class="sf-edit-btn p-2 rounded-md border border-gray-200 dark:border-gray-700">‚úèÔ∏è</button>
        <button class="sf-move-up-btn p-2 rounded-md border border-gray-200 dark:border-gray-700">‚¨ÜÔ∏è</button>
        <button class="sf-move-down-btn p-2 rounded-md border border-gray-200 dark:border-gray-700">‚¨áÔ∏è</button>
        <button class="sf-delete-btn p-2 rounded-md border border-red-200 text-red-600">üóëÔ∏è</button>
      </div>
    </div>
  `;
        insertBeforeFooter(html);
        applyFontToForm();
        updateFormScrollState();
      }

      function addCheckboxQuestion() {
        const html = `
    <div class="sf-question group relative mb-5">
      <div class="flex items-center justify-between mb-2">
        <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Checkbox Question</label>
      </div>

      <div class="space-y-2">
        <label class="flex items-center gap-3 text-sm text-gray-700 dark:text-gray-300">
          <input type="checkbox" disabled> Option 1
        </label>
        <label class="flex items-center gap-3 text-sm text-gray-700 dark:text-gray-300">
          <input type="checkbox" disabled> Option 2
        </label>
      </div>

      <div class="sf-float-toolbar absolute right-3 top-3 flex items-center gap-2">
        <button class="sf-edit-btn p-2 rounded-md border border-gray-200 dark:border-gray-700">‚úèÔ∏è</button>
        <button class="sf-move-up-btn p-2 rounded-md border border-gray-200 dark:border-gray-700">‚¨ÜÔ∏è</button>
        <button class="sf-move-down-btn p-2 rounded-md border border-gray-200 dark:border-gray-700">‚¨áÔ∏è</button>
        <button class="sf-delete-btn p-2 rounded-md border border-red-200 text-red-600">üóëÔ∏è</button>
      </div>
    </div>
  `;
        insertBeforeFooter(html);
        applyFontToForm();
        updateFormScrollState();
      }

      function addRadioQuestion() {
        const html = `
    <div class="sf-question group relative mb-5">
      <div class="flex items-center justify-between mb-2">
        <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Radio Question</label>
      </div>

      <div class="space-y-2">
        <label class="flex items-center gap-3 text-sm text-gray-700 dark:text-gray-300">
          <input type="radio" disabled> Option 1
        </label>
        <label class="flex items-center gap-3 text-sm text-gray-700 dark:text-gray-300">
          <input type="radio" disabled> Option 2
        </label>
      </div>

      <div class="sf-float-toolbar absolute right-3 top-3 flex items-center gap-2">
        <button class="sf-edit-btn p-2 rounded-md border border-gray-200 dark:border-gray-700">‚úèÔ∏è</button>
        <button class="sf-move-up-btn p-2 rounded-md border border-gray-200 dark:border-gray-700">‚¨ÜÔ∏è</button>
        <button class="sf-move-down-btn p-2 rounded-md border border-gray-200 dark:border-gray-700">‚¨áÔ∏è</button>
        <button class="sf-delete-btn p-2 rounded-md border border-red-200 text-red-600">üóëÔ∏è</button>
      </div>
    </div>
  `;
        insertBeforeFooter(html);
        applyFontToForm();
        updateFormScrollState();
      }

    })();
    (function enforceDarkBG() {
      const dark = isDark();
      const userBg = formInner.dataset.lastBg;

      if (dark && (!userBg || userBg === "#ffffff" || userBg === "white")) {
        formInner.style.setProperty("background", NAVY_BG, "important");
        formInner.dataset.lastBg = NAVY_BG;
      }
    })();

    (function fixTextColorOverride() {
      const original = applyFontToForm;

      applyFontToForm = function () {
        original();
        const userPicked = fontColorPicker?.dataset?.applied === "true";
        const userColor = userPicked ? (fontColorPicker.value || '').trim().toLowerCase() : '';

        if (userPicked && userColor) {
          requestAnimationFrame(() => {
            formInner.classList.add("user-colored");
            formInner.removeAttribute("style");
            formInner.querySelectorAll('*').forEach(el => {
              if (!isInEditorControls(el)) {
                el.style.setProperty('color', userColor, 'important');
              }
            });
          });
        } else {
          formInner.classList.remove("user-colored");
        }
        if (fontColorPicker) fontColorPicker.value = userColor;

      };
    })();
    document.getElementById("fontColorPicker").addEventListener("input", (e) => {
      const c = e.target.value.trim().toLowerCase();
      const wrapper = document.getElementById("fontColorPickerWrapper");

      fontColorPicker.dataset.applied = "true";
      fontColorPicker.value = c;
      fontColorPicker.style.setProperty("--fc", c);
      if (wrapper) wrapper.style.setProperty("--fc", c);
      requestAnimationFrame(() => {
        fontColorPicker.style.display = "none";
        void fontColorPicker.offsetHeight;
        fontColorPicker.style.display = "";
      });

      applyFontToForm();
    });

  </script>

  <style id="sf-force-buttons">
    #saveQuestionEdit,
    #topPreviewBtn,
    #saveBtn,
    #confirmFormBtn {
      background: linear-gradient(90deg, #6366F1, #4f46e5) !important;
      color: #ffffff !important;
      border: none !important;
      border-radius: 8px !important;
      padding: 10px 20px !important;
      font-weight: 600 !important;
      font-family: inherit !important;
      letter-spacing: 0.3px !important;
      box-shadow: 0 4px 14px rgba(99, 102, 241, 0.4) !important;
      cursor: pointer !important;
      transition: all 0.15s ease !important;
      display: inline-flex !important;
      align-items: center !important;
      justify-content: center !important;
      gap: 6px !important;
      min-height: 40px !important;
      line-height: 1.2 !important;
      vertical-align: middle !important;
    }

    #topPreviewBtn svg {
      width: 18px !important;
      height: 18px !important;
      fill: currentColor !important;
      flex-shrink: 0 !important;
    }

    html.dark #fontColorPickerWrapper input[type="color"] {
      background: none !important;
    }

    html.dark #fontColorPickerWrapper {
      background: none !important;
    }

    #saveQuestionEdit:hover,
    #topPreviewBtn:hover,
    #saveBtn:hover,
    #confirmFormBtn:hover {
      transform: translateY(-1px) !important;
      box-shadow: 0 6px 18px rgba(99, 102, 241, 0.55) !important;
    }

    #saveQuestionEdit:active,
    #topPreviewBtn:active,
    #saveBtn:active,
    #confirmFormBtn:active {
      transform: translateY(0) !important;
      box-shadow: 0 3px 8px rgba(99, 102, 241, 0.3) !important;
    }

    #saveQuestionEdit:focus-visible,
    #topPreviewBtn:focus-visible,
    #saveBtn:focus-visible,
    #confirmFormBtn:focus-visible {
      outline: 2px solid #818cf8 !important;
      outline-offset: 3px !important;
    }

    #topPreviewBtn svg {
      fill: none !important;
      stroke: #fff !important;
      stroke-width: 2 !important;
    }

    #bgClearBtn {
      display: inline-block;
      width: 100%;
      margin-top: 10px;
      background: linear-gradient(90deg, #6366F1, #4f46e5) !important;
      color: #ffffff !important;
      border: none !important;
      border-radius: 8px !important;
      padding: 10px 16px !important;
      font-weight: 600 !important;
      font-family: inherit !important;
      letter-spacing: 0.3px !important;
      box-shadow: 0 4px 14px rgba(99, 102, 241, 0.4) !important;
      cursor: pointer !important;
      transition: all 0.15s ease !important;
      text-align: center !important;
    }

    #bgClearBtn:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 18px rgba(99, 102, 241, 0.55);
    }

    #bgClearBtn:active {
      transform: translateY(0);
      box-shadow: 0 3px 8px rgba(99, 102, 241, 0.3);
    }

    #bgClearBtn:focus-visible {
      outline: 2px solid #818cf8;
      outline-offset: 3px;
    }

    #picker2Slot {
      display: none;
    }

    #picker2Slot {
      flex-direction: row;
      align-items: center;
      gap: 10px;
    }

    .sf-colorpickers {
      gap: 10px;
      align-items: center;
      flex-wrap: nowrap;
    }

    .sf-picker {
      align-items: center;
      gap: 6px;
    }


    input[type="color"] {
      -webkit-appearance: none;
      border: 1px solid #d1d5db;
      width: 36px;
      height: 36px;
      padding: 0;
      border-radius: 6px;
      background: transparent;
      cursor: pointer;
    }

    input[type="color"]::-webkit-color-swatch {
      border: none;
      border-radius: 6px;
    }

    input[type="color"]::-webkit-color-swatch-wrapper {
      padding: 0;
      border-radius: 6px;
    }

    .dark input[type="color"] {
      border: 1px solid rgba(255, 255, 255, 0.15);
    }

    html:not(.dark) .sf-radio-line:hover {
      border-color: rgba(0, 0, 0, 0.25);
    }

    html:not(.dark) .sf-radio-line input[type="radio"] {
      border-color: #1e293b;
    }

    html:not(.dark) .sf-radio-line input[type="radio"]:checked {
      background: #6366F1;
      border-color: #6366F1;
    }

    html:not(.dark) .sf-radio-line,
    html.dark .sf-radio-line {
      padding: 7px 14px;
      min-height: 38px;
      box-sizing: border-box;
    }

    .sf-colorpickers {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    html:not(.dark) .sf-radio-line input[type="radio"] {
      width: 14px;
      height: 14px;
      margin-right: 4px;
    }


    html:not(.dark) .sf-radio-line:hover {
      border-color: rgba(0, 0, 0, 0.25);
    }

    html:not(.dark) .sf-radio-line input[type='radio'] {
      border-color: #1f2937;
    }

    html:not(.dark) .sf-radio-line input[type='radio']:checked {
      background: #6366F1;
      border-color: #6366F1;
    }

    .sf-toggle-group,
    .bg-type-radios,
    .sf-bgtype-radios {
      display: flex;
      gap: 12px;
      align-items: center;
    }


    .sf-radio-line input[type='radio'] {
      appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      margin: 0;
      transition: border .18s ease, background .18s ease;
    }

    html.dark .sf-radio-line {
      background: linear-gradient(180deg, #0B1120, #111C34);
      border: 2px solid rgba(255, 255, 255, 0.15);
      color: #e6eef8;
    }

    html.dark .sf-radio-line:hover {
      border-color: rgba(255, 255, 255, 0.28);
    }


    html:not(.dark) .sf-radio-line:hover {
      border-color: rgba(0, 0, 0, 0.25);
    }

    html:not(.dark) .sf-radio-line input[type='radio'] {
      border: 2px solid #1e293b;
    }

    html.dark .sf-radio-line input[type='radio'] {
      border: 2px solid #e6eef8;
    }

    .sf-radio-line input[type='radio']:checked {
      background: #6366F1;
      border-color: #6366F1;
    }

    .sf-colorpickers {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: nowrap;
    }

    .sf-picker {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    html:not(.dark) .sf-radio-line:hover {
      border-color: rgba(0, 0, 0, 0.25);
    }

    html:not(.dark) .sf-radio-line input[type='radio'] {
      width: 14px;
      height: 14px;
      border: 2px solid #1f2937;
      border-radius: 50%;
    }

    html:not(.dark) .sf-radio-line input[type='radio']:checked {
      background: #6366F1;
      border-color: #6366F1;
    }

    .sf-toggle-group,
    .bg-type-radios,
    .sf-bgtype-radios {
      display: flex !important;
      gap: 14px !important;
      align-items: center !important;
    }

    .sf-radio-line {
      display: flex !important;
      align-items: center !important;
      gap: 8px !important;
      padding: 7px 14px !important;
      min-height: 38px !important;
      border-radius: 8px !important;
      font-size: 15px !important;
      font-weight: 500 !important;
      box-sizing: border-box !important;
    }

    .sf-radio-line input[type='radio'] {
      appearance: none !important;
      width: 14px !important;
      height: 14px !important;
      border-radius: 50% !important;
      margin: 0 !important;
    }

    html:not(.dark) .sf-radio-line {
      background: linear-gradient(180deg, #ffffff, #f2f4f7) !important;
      border: 2px solid rgba(0, 0, 0, 0.14) !important;
      color: #1e293b !important;
    }

    html.dark .sf-radio-line {
      background: linear-gradient(180deg, #0B1120, #111C34) !important;
      border: 2px solid rgba(255, 255, 255, 0.15) !important;
      color: #e6eef8 !important;
    }

    .sf-radio-line {
      display: flex !important;
      align-items: center !important;
      gap: 8px !important;
      padding: 7px 14px !important;
      min-height: 38px !important;
      border-radius: 8px !important;
      box-sizing: border-box !important;
      font-size: 15px !important;
      font-weight: 500 !important;
    }

    .sf-radio-line input[type='radio'] {
      appearance: none !important;
      width: 14px !important;
      height: 14px !important;
      border-radius: 50% !important;
      margin: 0 !important;
      transition: border .18s ease, background .18s ease !important;
    }

    html:not(.dark) .sf-radio-line input[type='radio'] {
      border: 2px solid #1e293b !important;
    }

    html.dark .sf-radio-line input[type='radio'] {
      border: 2px solid #e6eef8 !important;
    }

    .sf-radio-line input[type='radio']:checked {
      background: #6366F1 !important;
      border-color: #6366F1 !important;
    }

    .sf-toggle-group,
    .bg-type-radios,
    .sf-bgtype-radios {
      display: flex !important;
      gap: 14px !important;
      align-items: center !important;
    }

    .sf-picker {
      display: flex !important;
      align-items: center !important;
      gap: 6px !important;
    }

    .sf-colorpickers {
      display: flex !important;
      align-items: center !important;
      gap: 10px !important;
      flex-wrap: nowrap !important;
    }

    #picker2Slot {
      display: none;
      flex-direction: row;
      align-items: center;
      gap: 10px;
    }

    #picker2Slot {
      display: none !important;
      visibility: hidden !important;
      height: 0 !important;
      overflow: hidden !important;
      pointer-events: none !important;
    }


    #bgControlSection:has(input[name="bgTypeRadio"][value="gradient"]:checked) .sf-colorpickers #picker2Slot {
      display: flex !important;
      visibility: visible !important;
      height: auto !important;
      overflow: visible !important;
      pointer-events: auto !important;
      flex-direction: row !important;
      align-items: center !important;
      gap: 10px !important;
    }

    html.dark #bgClearBtn,
    html:not(.dark) #bgClearBtn {
      display: inline-block !important;
      width: 100% !important;
      margin-top: 10px !important;
      background: linear-gradient(90deg, #6366F1, #4f46e5) !important;
      color: #ffffff !important;
      border: none !important;
      border-radius: 8px !important;
      padding: 10px 16px !important;
      font-weight: 600 !important;
      font-family: inherit !important;
      letter-spacing: 0.3px !important;
      box-shadow: 0 4px 14px rgba(99, 102, 241, 0.4) !important;
      text-align: center !important;
      line-height: 1 !important;
      min-height: 40px !important;
    }

    html:not(.dark) #bgClearBtn {
      font-size: 13px !important;
    }

    html:not(.dark) p.text-xs.text-gray-400.mt-1 {
      margin-top: 2px !important;
    }

    #fontColorPicker::-webkit-color-swatch {
      background: var(--fc, currentColor) !important;
    }

    #fontColorPicker {
      appearance: none;
      width: 36px !important;
      height: 36px !important;
      border-radius: 6px !important;
      border: 2px solid rgba(255, 255, 255, 0.22) !important;
      padding: 0;
      cursor: pointer;
    }

    #fontColorPicker::-webkit-color-swatch-wrapper {
      padding: 0;
    }

    #fontColorPicker::-webkit-color-swatch {
      border-radius: 6px;
    }

    #fontColor {
      appearance: none;
      width: 36px !important;
      height: 36px !important;
      border-radius: 6px;
      padding: 0;
      border: 2px solid rgba(255, 255, 255, 0.22);
      cursor: pointer;
    }

    #fontColor::-webkit-color-swatch-wrapper {
      padding: 0;
      border-radius: 6px;
    }

    #fontColor::-webkit-color-swatch {
      border-radius: 6px;
      border: none;
    }

    .flex.flex-col.lg\:flex-row {
      align-items: stretch !important;
    }



    #formPreviewCard {
      overflow: hidden;
    }

    #formPreviewCard .form-inner {
      flex: 1 1 auto !important;
      min-height: 0 !important;
    }

    html:not(.dark) #formPreviewCard,
    html:not(.dark) #editToolsCard {
      box-shadow: 0 8px 28px rgba(0, 0, 0, 0.06) !important;
      border-color: rgba(0, 0, 0, 0.04) !important;
    }

    html:not(.dark) #formPreviewCard,
    html:not(.dark) #editToolsCard {
      box-shadow:
        0 10px 30px rgba(0, 0, 0, 0.10),
        0 4px 14px rgba(0, 0, 0, 0.06) !important;
      border-color: rgba(0, 0, 0, 0.06) !important;
    }

    .form-inner:not(.user-colored) {
      background: var(--sf-form-bg) !important;
      color: var(--sf-form-text) !important;
      transition: background .25s ease, color .25s ease;
    }

    html:not(.dark) {
      --sf-form-bg: #ffffff;
      --sf-form-text: #1e293b;
    }

    html.dark {
      --sf-form-bg: linear-gradient(180deg, #0B1120, #111C34);
      --sf-form-text: #e6eef8;
    }
  </style>

  <script>
    (function () {
      const formInner = document.querySelector('#formPreviewCard .form-inner');
      if (!formInner) return;

      const USER_BG_FLAG = 'user-colored';

      function cleanInlineBg(reason = '') {

        if (formInner.classList.contains(USER_BG_FLAG)) return;

        formInner.style.removeProperty('background');
        formInner.style.removeProperty('background-image');
        formInner.style.removeProperty('background-color');
        formInner.style.removeProperty('color');
      }

      cleanInlineBg('init');

      const htmlObserver = new MutationObserver(muts => {
        for (const m of muts) {
          if (m.attributeName === 'class') {
            cleanInlineBg('theme-change');
            break;
          }
        }
      });

      htmlObserver.observe(document.documentElement, {
        attributes: true,
        attributeFilter: ['class']
      });

    })();
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {

      const previewScroller = document.querySelector("#formPreviewCard .form-inner");
      const questionEditor = document.getElementById("questionEditor");

      const HEADER_OFFSET = 90; // sticky header height (observed in layout)

      function isElementFullyVisible(el, container) {
        const elRect = el.getBoundingClientRect();
        const cRect = container.getBoundingClientRect();

        return (
          elRect.top >= cRect.top &&
          elRect.bottom <= cRect.bottom
        );
      }

      function scrollPreviewToQuestion(el) {
        const elTop = el.offsetTop;
        previewScroller.scrollTo({
          top: elTop - 40, // compensate pt-6 + margins
          behavior: "smooth"
        });
      }

      function scrollWindowToEditor() {
        const rect = questionEditor.getBoundingClientRect();
        const absoluteTop = window.pageYOffset + rect.top;

        window.scrollTo({
          top: absoluteTop - HEADER_OFFSET,
          behavior: "smooth"
        });
      }

      // ADD ‚Üí scroll DOWN correctly
      ["btnAddQuestion", "btnAddOption", "btnAddRadio"].forEach(id => {
        const btn = document.getElementById(id);
        if (!btn) return;

        btn.addEventListener("click", () => {
          requestAnimationFrame(() => {
            requestAnimationFrame(() => {
              const questions = previewScroller.querySelectorAll(".sf-question");
              if (!questions.length) return;

              const last = questions[questions.length - 1];
              scrollPreviewToQuestion(last);
            });
          });
        });
      });

      // EDIT ‚Üí scroll UP only if needed
      document.addEventListener("click", (e) => {
        const editBtn = e.target.closest(".sf-edit-btn");
        if (!editBtn) return;

        const question = editBtn.closest(".sf-question");
        if (!question) return;

        // If the clicked question is already visible in preview, do NOTHING
        if (isElementFullyVisible(question, previewScroller)) {
          return;
        }

        // Otherwise scroll to editor
        requestAnimationFrame(scrollWindowToEditor);
      });

    });
  </script>
  <script>
    function syncCardHeights() {
      const editCard = document.getElementById("editToolsCard");
      const previewCard = document.getElementById("formPreviewCard");
      if (!editCard || !previewCard) return;

      const dpr = window.devicePixelRatio || 1;
      const rawHeight = editCard.getBoundingClientRect().height;

      const snappedHeight = Math.round(rawHeight * dpr) / dpr;

      previewCard.style.height = snappedHeight + "px";
      previewCard.style.maxHeight = snappedHeight + "px";
    }

    window.addEventListener("load", syncCardHeights);
    window.addEventListener("resize", syncCardHeights);
  </script>



</body>

</html>